{"ast":null,"code":"var _jsxFileName = \"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/components/Task/Bubble/WorkTaskBubble.tsx\";\nimport { FormControl, Grid, IconButton, MenuItem, Select } from '@material-ui/core';\nimport { Close, Create, Flag, FormatAlignLeft } from '@material-ui/icons';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport moment from 'moment';\nimport 'moment/locale/sk';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { useStyles } from '../../../App';\nimport '../../../App.css';\nimport { Status, useEditWorkTaskStatusMutation, WorkTasksDocument } from '../../../generated/graphql';\nimport { WeekContext } from '../../../providers/WeekProvider';\nimport { EditWorkTask } from '../EditTask/EditWorkTask';\nimport { menuProps } from '../helpers';\nimport { getTaskStatusData } from './TaskStatusData';\nexport function WorkTaskBubble({\n  date,\n  workData\n}) {\n  const [selectedTask, setSelectedTask] = useState();\n  const [taskToEdit, setTaskToEdit] = useState({ ...selectedTask,\n    statusChanged: false\n  });\n  const [formState, setFormState] = useState({\n    id: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id,\n    userId: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.user.id,\n    date: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.date,\n    status: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.status\n  });\n  useEffect(() => {\n    if ((selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id) !== formState.id) {\n      setTaskToEdit({ ...taskToEdit,\n        ...selectedTask\n      });\n      setFormState({\n        id: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id,\n        userId: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.user.id,\n        date: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.date,\n        status: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.status\n      });\n    }\n  }, [selectedTask, formState.id, taskToEdit]);\n  const [openEdit, setOpenEdit] = useState(false);\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n  };\n\n  if (workData == null || workData.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        justifyContent: 'center',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Droppable, {\n      key: moment(date).unix() + 7,\n      droppableId: moment(date).unix() + 'w',\n      type: \"WORK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, provided => /*#__PURE__*/React.createElement(motion.div, {\n      animate: {\n        opacity: [0, 1]\n      },\n      initial: {\n        opacity: 0\n      },\n      transition: {\n        duration: 0.5\n      },\n      key: moment(date).unix() + 8,\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n      ref: provided.innerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        textAlign: 'center',\n        paddingTop: '18px',\n        color: '#bdbdbd',\n        fontFamily: 'Poppins',\n        fontSize: '18px',\n        fontWeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }\n    }, \"Pr\\xE1zdne\"), provided.placeholder))));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Droppable, {\n      droppableId: moment(date).unix() + 'w',\n      type: \"WORK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, provided => /*#__PURE__*/React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n      ref: provided.innerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }), workData.map((item, index) => /*#__PURE__*/React.createElement(WorkTaskRender, {\n      item: item,\n      index: index,\n      key: index,\n      selectedTask: selectedTask,\n      setSelectedTask: setSelectedTask,\n      setOpenEdit: setOpenEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    })), provided.placeholder)), /*#__PURE__*/React.createElement(EditWorkTask, {\n      onClose: handleCloseEdit,\n      open: openEdit,\n      selectedTask: { ...selectedTask,\n        status: taskToEdit.status,\n        statusChanged: (selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.status) !== formState.status\n      },\n      previousState: formState,\n      setPreviousStatusState: setFormState,\n      setSelectedTask: setTaskToEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }));\n  }\n}\n\nfunction WorkTaskRender({\n  item,\n  index,\n  selectedTask,\n  setSelectedTask,\n  setOpenEdit\n}) {\n  const {\n    currWeek\n  } = useContext(WeekContext);\n  const delayRegular = 0;\n  const easeRegular = [0.83, 0, 0.17, 1];\n  const [formState, setFormState] = useState({\n    id: item.id,\n    userId: item.user.id,\n    date: item.date,\n    status: item.status\n  });\n  const [editWorkTaskStatus] = useEditWorkTaskStatusMutation();\n\n  const handleStatusChange = async e => {\n    e.preventDefault();\n    setFormState({ ...formState,\n      status: e.target.value.toUpperCase()\n    });\n    setFormState(state => {\n      editWorkTaskStatus({\n        variables: { ...state\n        },\n        optimisticResponse: {\n          editTask: { ...item,\n            ...state\n          }\n        },\n        update: (store, {\n          data\n        }) => {\n          store.readQuery({\n            query: WorkTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            }\n          });\n          return store.writeQuery({\n            query: WorkTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            },\n            data: {\n              items: [data === null || data === void 0 ? void 0 : data.editTask]\n            }\n          });\n        }\n      });\n      return state;\n    });\n  };\n\n  const variants = {\n    initial: {\n      height: 0,\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    open: {\n      height: '18em',\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    close: {\n      height: 0,\n      transition: {\n        duration: 0.45,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    }\n  };\n  const variantsStatus = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsDescription = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsAddress = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.15,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.15,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsTime = {\n    open: {\n      opacity: 0,\n      display: 'none',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 1,\n      transition: {\n        delay: 0.2,\n        duration: 0.4\n      }\n    }\n  };\n  const variantsTitle = {\n    open: {\n      fontSize: '1.3em',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      fontSize: '1em',\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n  const variantsCloseButton = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.4,\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n  const variantsScroll = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.35,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.35\n      }\n    }\n  };\n  const open = item.id === (selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id);\n\n  const setOpen = task => {\n    setSelectedTask(task);\n  };\n\n  const classes = useStyles();\n\n  const handleClickOpenEdit = () => {\n    setOpenEdit(true);\n  };\n\n  return /*#__PURE__*/React.createElement(Draggable, {\n    key: item.id,\n    draggableId: item.id,\n    index: index,\n    isDragDisabled: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 5\n    }\n  }, provided => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    ref: provided.innerRef\n  }, provided.draggableProps, provided.dragHandleProps, {\n    style: {\n      marginBottom: '1em',\n      ...provided.draggableProps.style\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AnimatePresence, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.taskBubble,\n    style: {\n      backgroundColor: open ? '#ECEFF1' : getTaskStatusData(item.status).color,\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '1.5em'\n    },\n    onClick: () => {\n      if (open === true) return;\n      return setOpen(item);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    layoutId: item.id,\n    variants: variants,\n    initial: \"initial\",\n    animate: open ? 'open' : 'close',\n    exit: \"close\",\n    style: {\n      width: '100%'\n    },\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      position: 'absolute',\n      zIndex: 1,\n      top: 5,\n      right: 50,\n      width: '3em',\n      height: '3em',\n      display: 'flex'\n    },\n    variants: variantsCloseButton,\n    animate: open ? variantsCloseButton.open : variantsCloseButton.close,\n    initial: variantsCloseButton.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"edit\",\n    style: {\n      color: '#1f1f1d'\n    },\n    onClick: () => {\n      handleClickOpenEdit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Create, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    style: {\n      color: '#1f1f1d'\n    },\n    onClick: () => setSelectedTask(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Close, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 8,\n    md: 8,\n    lg: 8,\n    justify: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      width: '100%'\n    },\n    variants: variantsTitle,\n    animate: open ? variantsTitle.open : variantsTitle.close,\n    initial: variantsTitle.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.bubbleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 23\n    }\n  }, item.title))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 4,\n    md: 4,\n    lg: 4,\n    justify: \"flex-end\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    variants: variantsTime,\n    animate: open ? variantsTime.open : variantsTime.close,\n    initial: variantsTime.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TimerIcon, {\n    style: {\n      marginRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.bubbleWorkTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 23\n    }\n  }, item.workTime)))), /*#__PURE__*/React.createElement(motion.div, {\n    variants: variantsScroll,\n    animate: open ? variantsScroll.open : variantsScroll.close,\n    initial: variantsScroll.close,\n    exit: variantsScroll.close,\n    style: {\n      width: '100%',\n      height: '16em',\n      overflowY: 'auto',\n      marginTop: '1.2em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 17\n    }\n  }, open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsStatus,\n    animate: open ? variantsStatus.open : variantsStatus.close,\n    initial: variantsStatus.close,\n    exit: variantsStatus.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'start',\n      padding: '0px 0px 10px 0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Flag, {\n    style: {\n      paddingTop: '2px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    disableUnderline: true,\n    classes: {\n      root: 'task-select'\n    },\n    MenuProps: menuProps,\n    value: formState.status.toLowerCase(),\n    onChange: handleStatusChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'done',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 29\n    }\n  }, renderTaskStatusBubble(getTaskStatusData(Status.Done))), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'in_progress',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 29\n    }\n  }, renderTaskStatusBubble(getTaskStatusData(Status.InProgress))), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'not_done',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 29\n    }\n  }, renderTaskStatusBubble(getTaskStatusData(Status.NotDone))))))), open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsDescription,\n    animate: open ? variantsDescription.open : variantsDescription.close,\n    initial: variantsDescription.close,\n    exit: variantsDescription.close,\n    style: {\n      marginTop: '0.5em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 21\n    }\n  }, item.description !== '' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"task-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormatAlignLeft, {\n    style: {\n      paddingTop: '2px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"detail-text\",\n    style: {\n      textAlign: 'justify'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 27\n    }\n  }, item.description))), open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsAddress,\n    animate: open ? variantsAddress.open : variantsAddress.close,\n    initial: variantsAddress.close,\n    exit: variantsAddress.close,\n    style: {\n      marginTop: '0.5em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 21\n    }\n  }, item.workTime !== '' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"task-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TimerIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 599,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"detail-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 27\n    }\n  }, item.workTime)))))))));\n}\n\nconst renderTaskStatusBubble = taskStatusData => {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: 'task-status',\n    style: {\n      backgroundColor: taskStatusData.color\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 5\n    }\n  }, taskStatusData.title);\n};","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/components/Task/Bubble/WorkTaskBubble.tsx"],"names":["FormControl","Grid","IconButton","MenuItem","Select","Close","Create","Flag","FormatAlignLeft","TimerIcon","AnimatePresence","motion","moment","React","useContext","useEffect","useState","Draggable","Droppable","useStyles","Status","useEditWorkTaskStatusMutation","WorkTasksDocument","WeekContext","EditWorkTask","menuProps","getTaskStatusData","WorkTaskBubble","date","workData","selectedTask","setSelectedTask","taskToEdit","setTaskToEdit","statusChanged","formState","setFormState","id","userId","user","status","openEdit","setOpenEdit","handleCloseEdit","length","justifyContent","height","unix","provided","opacity","duration","width","droppableProps","innerRef","textAlign","paddingTop","color","fontFamily","fontSize","fontWeight","placeholder","map","item","index","WorkTaskRender","currWeek","delayRegular","easeRegular","editWorkTaskStatus","handleStatusChange","e","preventDefault","target","value","toUpperCase","state","variables","optimisticResponse","editTask","update","store","data","readQuery","query","dateFrom","Date","toISOString","dateTo","writeQuery","items","variants","initial","transition","delay","ease","open","close","variantsStatus","scale","variantsDescription","variantsAddress","variantsTime","display","variantsTitle","variantsCloseButton","variantsScroll","setOpen","task","classes","handleClickOpenEdit","draggableProps","dragHandleProps","marginBottom","style","taskBubble","backgroundColor","flexDirection","minHeight","position","zIndex","top","right","undefined","bubbleTitle","title","alignItems","marginRight","bubbleWorkTime","workTime","overflowY","marginTop","padding","root","toLowerCase","renderTaskStatusBubble","Done","InProgress","NotDone","description","taskStatusData"],"mappings":"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","sourcesContent":["import {\n  FormControl,\n  Grid,\n  IconButton,\n  MenuItem,\n  Select\n} from '@material-ui/core';\nimport { Close, Create, Flag, FormatAlignLeft } from '@material-ui/icons';\nimport TimerIcon from '@material-ui/icons/Timer';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport moment from 'moment';\nimport 'moment/locale/sk';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { useStyles } from '../../../App';\nimport '../../../App.css';\nimport {\n  Status,\n  useEditWorkTaskStatusMutation,\n  WorkTask,\n  WorkTasksDocument\n} from '../../../generated/graphql';\nimport { WeekContext } from '../../../providers/WeekProvider';\nimport { EditWorkTask } from '../EditTask/EditWorkTask';\nimport { menuProps } from '../helpers';\nimport { PickWorkTask } from '../RenderTaskList';\nimport { getTaskStatusData } from './TaskStatusData';\n\nexport function WorkTaskBubble({\n  date,\n  workData\n}: {\n  date: number;\n  workData: PickWorkTask[];\n}) {\n  const [selectedTask, setSelectedTask] = useState<PickWorkTask>();\n\n  const [taskToEdit, setTaskToEdit] = useState<\n    Partial<PickWorkTask> & { statusChanged: boolean }\n  >({\n    ...selectedTask,\n    statusChanged: false\n  });\n\n  const [formState, setFormState] = useState<\n    Partial<Pick<WorkTask, 'id' | 'date' | 'status'> & { userId: string }>\n  >({\n    id: selectedTask?.id,\n    userId: selectedTask?.user.id,\n    date: selectedTask?.date,\n    status: selectedTask?.status\n  });\n\n  useEffect(() => {\n    if (selectedTask?.id !== formState.id) {\n      setTaskToEdit({ ...taskToEdit, ...selectedTask });\n      setFormState({\n        id: selectedTask?.id,\n        userId: selectedTask?.user.id,\n        date: selectedTask?.date,\n        status: selectedTask?.status\n      });\n    }\n  }, [selectedTask, formState.id, taskToEdit]);\n\n  const [openEdit, setOpenEdit] = useState<boolean>(false);\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n  };\n\n  if (workData == null || workData.length === 0) {\n    return (\n      <div\n        style={{\n          justifyContent: 'center',\n          height: '100%'\n        }}\n      >\n        <Droppable\n          key={moment(date).unix() + 7}\n          droppableId={moment(date).unix() + 'w'}\n          type=\"WORK\"\n        >\n          {(provided) => (\n            <motion.div\n              animate={{ opacity: [0, 1] }}\n              initial={{ opacity: 0 }}\n              transition={{ duration: 0.5 }}\n              key={moment(date).unix() + 8}\n              style={{ width: '100%' }}\n            >\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                <h3\n                  style={{\n                    textAlign: 'center',\n                    paddingTop: '18px',\n                    color: '#bdbdbd',\n                    fontFamily: 'Poppins',\n                    fontSize: '18px',\n                    fontWeight: 500\n                  }}\n                >\n                  Pr√°zdne\n                </h3>\n\n                {provided.placeholder}\n              </div>\n            </motion.div>\n          )}\n        </Droppable>\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <Droppable droppableId={moment(date).unix() + 'w'} type=\"WORK\">\n          {(provided) => (\n            <div {...provided.droppableProps} ref={provided.innerRef}>\n              {workData.map((item, index) => (\n                <WorkTaskRender\n                  item={item}\n                  index={index}\n                  key={index}\n                  selectedTask={selectedTask}\n                  setSelectedTask={setSelectedTask}\n                  setOpenEdit={setOpenEdit}\n                />\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n        <EditWorkTask\n          onClose={handleCloseEdit}\n          open={openEdit}\n          selectedTask={{\n            ...selectedTask,\n            status: taskToEdit.status,\n            statusChanged: selectedTask?.status !== formState.status\n          }}\n          previousState={formState}\n          setPreviousStatusState={setFormState}\n          setSelectedTask={setTaskToEdit}\n        />\n      </div>\n    );\n  }\n}\n\nfunction WorkTaskRender({\n  item,\n  index,\n  selectedTask,\n  setSelectedTask,\n  setOpenEdit\n}: {\n  item: PickWorkTask;\n  index: number;\n  selectedTask: PickWorkTask | undefined;\n  setSelectedTask: React.Dispatch<\n    React.SetStateAction<PickWorkTask | undefined>\n  >;\n  setOpenEdit: React.Dispatch<React.SetStateAction<boolean>>;\n}) {\n  const { currWeek } = useContext(WeekContext);\n\n  const delayRegular = 0;\n  const easeRegular = [0.83, 0, 0.17, 1];\n\n  const [formState, setFormState] = useState({\n    id: item.id,\n    userId: item.user.id,\n    date: item.date,\n    status: item.status\n  });\n\n  const [editWorkTaskStatus] = useEditWorkTaskStatusMutation();\n\n  const handleStatusChange = async (e) => {\n    e.preventDefault();\n\n    setFormState({ ...formState, status: e.target.value.toUpperCase() });\n\n    setFormState((state) => {\n      editWorkTaskStatus({\n        variables: {\n          ...state\n        },\n        optimisticResponse: {\n          editTask: {\n            ...item,\n            ...state\n          }\n        },\n        update: (store, { data }) => {\n          store.readQuery<any>({\n            query: WorkTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            }\n          });\n\n          return store.writeQuery({\n            query: WorkTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            },\n            data: { items: [data?.editTask] }\n          });\n        }\n      });\n\n      return state;\n    });\n  };\n\n  const variants = {\n    initial: {\n      height: 0,\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    open: {\n      height: '18em',\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    close: {\n      height: 0,\n      transition: {\n        duration: 0.45,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    }\n  };\n\n  const variantsStatus = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsDescription = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsAddress = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.15,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.15,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsTime = {\n    open: {\n      opacity: 0,\n      display: 'none',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 1,\n      transition: {\n        delay: 0.2,\n        duration: 0.4\n      }\n    }\n  };\n\n  const variantsTitle = {\n    open: {\n      fontSize: '1.3em',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      fontSize: '1em',\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n\n  const variantsCloseButton = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.4,\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n\n  const variantsScroll = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.35,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.35\n      }\n    }\n  };\n\n  const open = item.id === selectedTask?.id;\n  const setOpen = (task: PickWorkTask | undefined) => {\n    setSelectedTask(task);\n  };\n\n  const classes = useStyles();\n\n  const handleClickOpenEdit = () => {\n    setOpenEdit(true);\n  };\n\n  return (\n    <Draggable\n      key={item.id}\n      draggableId={item.id}\n      index={index}\n      isDragDisabled={open}\n    >\n      {(provided) => (\n        <div\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          style={{\n            marginBottom: '1em',\n            ...provided.draggableProps.style\n          }}\n        >\n          <AnimatePresence>\n            <div\n              className={classes.taskBubble}\n              style={{\n                backgroundColor: open\n                  ? '#ECEFF1'\n                  : getTaskStatusData(item.status).color,\n                display: 'flex',\n                flexDirection: 'column',\n                minHeight: '1.5em'\n              }}\n              onClick={() => {\n                if (open === true) return;\n                return setOpen(item);\n              }}\n            >\n              <motion.div\n                layout\n                layoutId={item.id}\n                variants={variants}\n                initial=\"initial\"\n                animate={open ? 'open' : 'close'}\n                exit=\"close\"\n                style={{ width: '100%' }}\n                key={item.id}\n              >\n                <motion.div\n                  style={{\n                    position: 'absolute',\n                    zIndex: 1,\n                    top: 5,\n                    right: 50,\n                    width: '3em',\n                    height: '3em',\n                    display: 'flex'\n                  }}\n                  variants={variantsCloseButton}\n                  animate={\n                    open ? variantsCloseButton.open : variantsCloseButton.close\n                  }\n                  initial={variantsCloseButton.close}\n                >\n                  <IconButton\n                    aria-label=\"edit\"\n                    style={{ color: '#1f1f1d' }}\n                    onClick={() => {\n                      handleClickOpenEdit();\n                    }}\n                  >\n                    <Create />\n                  </IconButton>\n                  <IconButton\n                    aria-label=\"close\"\n                    style={{ color: '#1f1f1d' }}\n                    onClick={() => setSelectedTask(undefined)}\n                  >\n                    <Close />\n                  </IconButton>\n                </motion.div>\n                <Grid container>\n                  <Grid\n                    container\n                    item\n                    xs={8}\n                    md={8}\n                    lg={8}\n                    justify=\"flex-start\"\n                  >\n                    <motion.div\n                      style={{ width: '100%' }}\n                      variants={variantsTitle}\n                      animate={open ? variantsTitle.open : variantsTitle.close}\n                      initial={variantsTitle.close}\n                    >\n                      <h3 className={classes.bubbleTitle}>{item.title}</h3>\n                    </motion.div>\n                  </Grid>\n\n                  <Grid\n                    container\n                    item\n                    xs={4}\n                    md={4}\n                    lg={4}\n                    justify=\"flex-end\"\n                    alignItems=\"center\"\n                  >\n                    <motion.div\n                      style={{ display: 'flex', alignItems: 'center' }}\n                      variants={variantsTime}\n                      animate={open ? variantsTime.open : variantsTime.close}\n                      initial={variantsTime.close}\n                    >\n                      <TimerIcon style={{ marginRight: '5px' }} />\n                      <h3 className={classes.bubbleWorkTime}>\n                        {item.workTime}\n                      </h3>\n                    </motion.div>\n                  </Grid>\n                </Grid>\n\n                <motion.div\n                  variants={variantsScroll}\n                  animate={open ? variantsScroll.open : variantsScroll.close}\n                  initial={variantsScroll.close}\n                  exit={variantsScroll.close}\n                  style={{\n                    width: '100%',\n                    height: '16em',\n                    overflowY: 'auto',\n                    marginTop: '1.2em'\n                  }}\n                >\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsStatus}\n                      animate={\n                        open ? variantsStatus.open : variantsStatus.close\n                      }\n                      initial={variantsStatus.close}\n                      exit={variantsStatus.close}\n                    >\n                      <span\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'start',\n                          padding: '0px 0px 10px 0px'\n                        }}\n                      >\n                        <Flag style={{ paddingTop: '2px' }} />\n                        <FormControl>\n                          <Select\n                            disableUnderline\n                            classes={{ root: 'task-select' }}\n                            MenuProps={menuProps}\n                            value={formState.status.toLowerCase()}\n                            onChange={handleStatusChange}\n                          >\n                            <MenuItem value={'done'}>\n                              {renderTaskStatusBubble(\n                                getTaskStatusData(Status.Done)\n                              )}\n                            </MenuItem>\n                            <MenuItem value={'in_progress'}>\n                              {renderTaskStatusBubble(\n                                getTaskStatusData(Status.InProgress)\n                              )}\n                            </MenuItem>\n                            <MenuItem value={'not_done'}>\n                              {renderTaskStatusBubble(\n                                getTaskStatusData(Status.NotDone)\n                              )}\n                            </MenuItem>\n                          </Select>\n                        </FormControl>\n                      </span>\n                    </motion.div>\n                  )}\n\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsDescription}\n                      animate={\n                        open\n                          ? variantsDescription.open\n                          : variantsDescription.close\n                      }\n                      initial={variantsDescription.close}\n                      exit={variantsDescription.close}\n                      style={{ marginTop: '0.5em' }}\n                    >\n                      {item.description !== '' && (\n                        <span className=\"task-detail-info\">\n                          <FormatAlignLeft style={{ paddingTop: '2px' }} />\n                          <h3\n                            className=\"detail-text\"\n                            style={{ textAlign: 'justify' }}\n                          >\n                            {item.description}\n                          </h3>\n                        </span>\n                      )}\n                    </motion.div>\n                  )}\n\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsAddress}\n                      animate={\n                        open ? variantsAddress.open : variantsAddress.close\n                      }\n                      initial={variantsAddress.close}\n                      exit={variantsAddress.close}\n                      style={{ marginTop: '0.5em' }}\n                    >\n                      {item.workTime !== '' && (\n                        <span className=\"task-detail-info\">\n                          <TimerIcon />\n                          <h3 className=\"detail-text\">{item.workTime}</h3>\n                        </span>\n                      )}\n                    </motion.div>\n                  )}\n                </motion.div>\n              </motion.div>\n            </div>\n          </AnimatePresence>\n        </div>\n      )}\n    </Draggable>\n  );\n}\n\nconst renderTaskStatusBubble = (taskStatusData) => {\n  return (\n    <span\n      className={'task-status'}\n      style={{ backgroundColor: taskStatusData.color }}\n    >\n      {taskStatusData.title}\n    </span>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}