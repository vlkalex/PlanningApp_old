{"ast":null,"code":"import _slicedToArray from\"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useStyles}from'../App';import'../App.css';import React,{useContext}from'react';import{GetTaskStatusData}from'./TaskStatusData';import{WorkDetailDialog}from'../dialogWindows/WorkDetailDialog';import Box from'@material-ui/core/Box';import moment from'moment';import'moment/locale/sk';import{DragDropContext,Droppable,Draggable}from\"react-beautiful-dnd\";import TimerIcon from'@material-ui/icons/Timer';import{DataContext}from\"../providers/DataProvider\";export function WorkTaskBubble(date){var classes=useStyles();var _useContext=useContext(DataContext),taskData=_useContext.taskData;var filteredData=[];if(taskData.workTasks!==undefined){filteredData=taskData.workTasks.filter(function(task){return task.date.includes(moment(date).format(\"DD/MM/yyyy\"));});//filter tasks by specified type\n}var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState({id:'-1',title:'Test',desc:'Test',workTime:'100h',status:'not_done'}),_React$useState4=_slicedToArray(_React$useState3,2),selectedTask=_React$useState4[0],setSelectedTask=_React$useState4[1];var handleClickOpen=function handleClickOpen(task){setSelectedTask(task);setOpen(true);};var handleClose=function handleClose(){setOpen(false);};if(filteredData===undefined||filteredData.length===0){return/*#__PURE__*/React.createElement(\"div\",{style:{justifyContent:\"center\",height:\"100%\"}},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:\"center\",paddingTop:\"18px\",color:\"#bdbdbd\",fontFamily:\"Poppins\",fontSize:\"18px\",fontWeight:\"500\"}},\"Pr\\xE1zdne\"));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DragDropContext,null,/*#__PURE__*/React.createElement(Droppable,{droppableId:\"\".concat(moment(date).unix())},function(provided){return/*#__PURE__*/React.createElement(\"div\",Object.assign({},provided.droppableProps,{ref:provided.innerRef}),filteredData.map(function(item,index){return/*#__PURE__*/React.createElement(Draggable,{key:item.id,draggableId:item.id,index:index},function(provided){return/*#__PURE__*/React.createElement(\"div\",Object.assign({},provided.draggableProps,provided.dragHandleProps),/*#__PURE__*/React.createElement(Box,{className:classes.taskBubble,style:{backgroundColor:GetTaskStatusData(item.status).color,transition:'background-color 1s'},onClick:function onClick(){return handleClickOpen(item);},ref:provided.innerRef},/*#__PURE__*/React.createElement(Box,{flexGrow:1},/*#__PURE__*/React.createElement(\"h3\",{className:classes.bubbleTitle},item.title)),/*#__PURE__*/React.createElement(TimerIcon,{style:{marginRight:'5px'}}),/*#__PURE__*/React.createElement(\"h3\",{className:classes.bubbleWorkTime},item.workTime)));});}),provided.placeholder);})),/*#__PURE__*/React.createElement(WorkDetailDialog,{onClose:handleClose,open:open,selectedTask:selectedTask}));}};","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/taskBubble/WorkTaskBubble.js"],"names":["useStyles","React","useContext","GetTaskStatusData","WorkDetailDialog","Box","moment","DragDropContext","Droppable","Draggable","TimerIcon","DataContext","WorkTaskBubble","date","classes","taskData","filteredData","workTasks","undefined","filter","task","includes","format","useState","open","setOpen","id","title","desc","workTime","status","selectedTask","setSelectedTask","handleClickOpen","handleClose","length","justifyContent","height","textAlign","paddingTop","color","fontFamily","fontSize","fontWeight","unix","provided","droppableProps","innerRef","map","item","index","draggableProps","dragHandleProps","taskBubble","backgroundColor","transition","bubbleTitle","marginRight","bubbleWorkTime","placeholder"],"mappings":"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","sourcesContent":["import { useStyles } from '../App';\nimport '../App.css';\nimport React, { useContext } from 'react';\nimport { GetTaskStatusData } from './TaskStatusData';\nimport { WorkDetailDialog } from '../dialogWindows/WorkDetailDialog';\nimport Box from '@material-ui/core/Box';\nimport moment from 'moment';\nimport 'moment/locale/sk';\n\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport TimerIcon from '@material-ui/icons/Timer';\n\nimport { DataContext } from \"../providers/DataProvider\";\n\n\nexport function WorkTaskBubble(date) {\n  const classes = useStyles();\n\n  const { taskData } = useContext(DataContext);\n\n  let filteredData = [];\n\n  if (taskData.workTasks !== undefined) {\n    filteredData = taskData.workTasks.filter((task) => task.date.includes(moment(date).format(\"DD/MM/yyyy\"))); //filter tasks by specified type\n  }\n  \n  const [open, setOpen] = React.useState(false);\n  const [selectedTask, setSelectedTask] = React.useState({ id: '-1', title: 'Test', desc: 'Test', workTime: '100h', status: 'not_done' });\n\n  const handleClickOpen = (task) => {\n    setSelectedTask(task);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  if (filteredData === undefined || filteredData.length === 0) {\n    return (\n      <div style={{ justifyContent: \"center\", height: \"100%\" }}>\n        <h3 style={{ textAlign: \"center\", paddingTop: \"18px\", color: \"#bdbdbd\", fontFamily: \"Poppins\", fontSize: \"18px\", fontWeight: \"500\" }}>\n          Pr√°zdne\n        </h3>\n      </div>\n    )\n\n  } else {\n    return (\n      <div>\n        <DragDropContext>\n          <Droppable droppableId={`${moment(date).unix()}`}>\n            {(provided) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                {filteredData.map((item, index) => (\n                  <Draggable key={item.id} draggableId={item.id} index={index} >\n                    {(provided) => (\n                      <div {...provided.draggableProps} {...provided.dragHandleProps}>\n                        <Box className={classes.taskBubble} style={{ backgroundColor: GetTaskStatusData(item.status).color, transition: 'background-color 1s' }} onClick={() => handleClickOpen(item)} ref={provided.innerRef}>\n                          <Box flexGrow={1}>\n                            <h3 className={classes.bubbleTitle}>{item.title}</h3>\n                          </Box>\n                          <TimerIcon style={{ marginRight: '5px' }} />\n                          <h3 className={classes.bubbleWorkTime}>{item.workTime}</h3>\n                        </Box>\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n        <WorkDetailDialog onClose={handleClose} open={open} selectedTask={selectedTask} />\n      </div>\n    )\n  }\n};"]},"metadata":{},"sourceType":"module"}