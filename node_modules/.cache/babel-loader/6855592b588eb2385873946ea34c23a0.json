{"ast":null,"code":"import _objectSpread from\"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../../App.css';import React,{useState,useContext}from'react';import{makeStyles,withStyles}from'@material-ui/core/styles';import moment from'moment';import Dialog from'@material-ui/core/Dialog';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import{DatePicker,MuiPickersUtilsProvider}from\"@material-ui/pickers\";import MomentUtils from'@date-io/moment';import Autocomplete from'@material-ui/lab/Autocomplete';import GooglePlacesAutocomplete from'react-google-places-autocomplete';import TimerIcon from'@material-ui/icons/Timer';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';import TodayIcon from'@material-ui/icons/Today';import PlaceIcon from'@material-ui/icons/Place';import{DataContext}from\"../../providers/DataProvider\";import UserProvider,{UserContext}from\"../../providers/UserProvider\";var CssTextField=withStyles({root:{'& .MuiFilledInput-root':{fontFamily:'Poppins',paddingTop:0,background:'rgba(171, 171, 171, 0.15)'}}})(TextField);var styles=makeStyles(function(theme){return{detailTitle:{fontFamily:'Poppins',color:'#2b2b2b',fontWeight:'700',fontSize:'1.6em',paddingBottom:'15px',marginBlockStart:0,marginBlockEnd:0},detailText:{fontFamily:'Poppins',color:'#2b2b2b',fontWeight:'500',fontSize:'1.1em',marginBlockStart:0,marginBlockEnd:0,paddingLeft:'20px'},closeButton:{position:'absolute',right:theme.spacing(2),top:theme.spacing(3.5),color:'#1f1f1d'},editButton:{position:'absolute',right:theme.spacing(8),top:theme.spacing(3.5),color:'#2B2B28'},taskSelect:{width:'90%',background:'#FFEAC8',borderStyle:'none',borderWidth:2,borderRadius:'10px',marginLeft:18,padding:'10px 0px',\"&:focus\":{borderRadius:'10px',background:'transparent'}},addTaskInput:{fontFamily:'Poppins',margin:'10px',\"& label\":{fontFamily:'Poppins'},\"& input\":{fontFamily:'Poppins'}},createTaskButton:{width:'60%',alignSelf:'center',margin:'20px',fontFamily:'Poppins',fontSize:'14px',fontWeight:'600',color:'white',background:'#E3B04B','&:hover':{background:'#ffc44f'}}};});export function MeetAddTaskDialog(props){var classes=styles();var onClose=props.onClose,open=props.open;var handleClose=function handleClose(){onClose();};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),taskTitle=_useState2[0],setTaskTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),taskDesc=_useState4[0],setTaskDesc=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),taskAddress=_useState6[0],setAddress=_useState6[1];var _useState7=useState(\"13:00\"),_useState8=_slicedToArray(_useState7,2),selectedStartTime=_useState8[0],handleStartTimeChange=_useState8[1];var _useState9=useState(\"14:00\"),_useState10=_slicedToArray(_useState9,2),selectedEndTime=_useState10[0],handleEndTimeChange=_useState10[1];var _useState11=useState(new Date()),_useState12=_slicedToArray(_useState11,2),selectedDate=_useState12[0],handleDateChange=_useState12[1];var _useContext=useContext(DataContext),setRefresh=_useContext.setRefresh;var user=useContext(UserContext);// moves the menu below the select input\nvar menuProps={anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null};var handleForm=function handleForm(e){e.preventDefault();try{var requestOptions={method:'POST',headers:{'Content-Type':'application/json','Accept':'*/*','Authorization':'Bearer '+localStorage.getItem(\"@token\")},body:JSON.stringify({token:user.uid,title:taskTitle,desc:taskDesc,date:moment(selectedDate).format(\"DD/MM/yyyy\"),address:taskAddress.value==undefined?\"\":taskAddress.value.description,startTime:selectedStartTime,endTime:selectedEndTime,category:\"\"})};fetch('https://europe-west1-plannerapp-960c1.cloudfunctions.net/app/api/create-meeting-task',requestOptions).then(function(response){return response.json();}).then(function(data){return setRefresh(data.taskId);});}catch(error){console.log(error);alert(\"Something went wrong. Please try again later.\");}setTaskTitle(\"\");setTaskDesc(\"\");handleStartTimeChange(\"13:00\");handleEndTimeChange(\"14:00\");setAddress(\"\");handleDateChange(new Date());handleClose();};return/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:MomentUtils},/*#__PURE__*/React.createElement(Dialog,{onClose:handleClose,open:open,fullWidth:true,maxWidth:'xs',PaperProps:{style:{backgroundColor:'#FFEAC8',color:'black',borderRadius:'30px',padding:'35px',boxShadow:'0px 0px 15px 0px rgba(0,0,0,0.15)'},elevation:0},BackdropProps:{style:{backgroundColor:\"rgba(0, 0, 0, 0.25)\"}}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return handleForm(e);},style:{display:'contents'}},/*#__PURE__*/React.createElement(\"h1\",{className:classes.detailTitle},\"Vytvori\\u0165 \\xFAlohu\"),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"close\",className:classes.closeButton,onClick:onClose},/*#__PURE__*/React.createElement(CloseIcon,null)),/*#__PURE__*/React.createElement(TextField,{label:\"N\\xE1zov\",variant:\"outlined\",value:taskTitle,onChange:function onChange(e){return setTaskTitle(e.target.value);},className:classes.addTaskInput}),/*#__PURE__*/React.createElement(TextField,{label:\"Popis\",multiline:true,rows:3,variant:\"outlined\",value:taskDesc,onChange:function onChange(e){return setTaskDesc(e.target.value);},className:classes.addTaskInput}),/*#__PURE__*/React.createElement(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'start',padding:'10px 0px',paddingLeft:'10px'}},/*#__PURE__*/React.createElement(PlaceIcon,null),/*#__PURE__*/React.createElement(GooglePlacesAutocomplete,{selectProps:{styles:{control:function control(provider,state){return _objectSpread(_objectSpread({},provider),{},{background:'none',fontFamily:'Poppins',width:'97.8%',height:'3.8em',borderColor:'rgba(0, 0, 0, 0.23)',\"&:hover\":{borderColor:state.isFocused?\"-webkit-focus-ring-color\":\"black\"}});},container:function container(provided){return _objectSpread(_objectSpread({},provided),{},{width:'100%',marginLeft:'10px'});},input:function input(provided){return _objectSpread(_objectSpread({},provided),{},{fontFamily:'Poppins',color:'#2b2b2b'});},option:function option(provided){return _objectSpread(_objectSpread({},provided),{},{fontFamily:'Poppins',color:'#2b2b2b'});},menu:function menu(provided){return _objectSpread(_objectSpread({},provided),{},{width:'97.8%'});},singleValue:function singleValue(provided){return _objectSpread(_objectSpread({},provided),{},{fontFamily:'Poppins',color:'#2b2b2b'});},dropdownIndicator:function dropdownIndicator(provider){return _objectSpread(_objectSpread({},provider),{},{color:'rgba(0, 0, 0, 0.23)'});},indicatorSeparator:function indicatorSeparator(provider){return _objectSpread(_objectSpread({},provider),{},{color:'rgba(0, 0, 0, 0.23)'});}},taskAddress:taskAddress,onChange:setAddress}})),/*#__PURE__*/React.createElement(\"div\",{style:{alignItems:'center',display:'flex',flexDirection:'row',justifyContent:'space-between',paddingLeft:'10px',paddingRight:'10px'}},/*#__PURE__*/React.createElement(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'start',padding:'10px 0px'}},/*#__PURE__*/React.createElement(TodayIcon,null),/*#__PURE__*/React.createElement(DatePicker,{autoOk:true,disableToolbar:true,variant:\"inline\",inputVariant:\"outlined\",style:{width:90,marginLeft:10,background:'rgba(171, 171, 171, 0.15)',borderRadius:'5px',border:'none'},format:\"D.M.YYYY\",value:selectedDate,onChange:function onChange(date){return handleDateChange(date);}})),/*#__PURE__*/React.createElement(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'start',padding:'10px 0px'}},/*#__PURE__*/React.createElement(TimerIcon,null),/*#__PURE__*/React.createElement(Autocomplete,{id:\"time-picker\",options:startTimeSlots,style:{width:90,marginLeft:10},disableClearable:true,freeSolo:true,value:selectedStartTime,inputValue:selectedStartTime,onInputChange:function onInputChange(event,newInputValue){handleStartTimeChange(newInputValue);},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(CssTextField,Object.assign({},params,{variant:\"outlined\",style:{background:'rgba(171, 171, 171, 0.15)',borderRadius:'5px'}}));}}),/*#__PURE__*/React.createElement(\"h3\",{style:{marginLeft:'8px',marginRight:'8px',fontSize:'20px',fontWeight:400}},\"-\"),/*#__PURE__*/React.createElement(Autocomplete,{id:\"time-picker\",options:endTimeSlots,style:{width:90},disableClearable:true,freeSolo:true,value:selectedEndTime,inputValue:selectedEndTime,onInputChange:function onInputChange(event,newInputValue){handleEndTimeChange(newInputValue);},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(CssTextField,Object.assign({},params,{variant:\"outlined\",style:{background:'rgba(171, 171, 171, 0.15)',borderRadius:'5px'}}));}}))),/*#__PURE__*/React.createElement(Button,{type:\"submit\",className:classes.createTaskButton},\"Vytvori\\u0165\"))));}var getMinutes=function getMinutes(index){if(index%4===0){return'00';}else if(index%2===0){return'30';}else if(index%4===1){return'15';}else{return'45';}};var startTimeSlots=Array.from(new Array(24*4)).map(function(_,index){return\"\".concat(Math.floor(index/4),\":\").concat(getMinutes(index));});var endTimeSlots=Array.from(new Array(24*4)).map(function(_,index){return\"\".concat(Math.floor(index/4),\":\").concat(getMinutes(index));});","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/dialogWindows/addTaskDialogs/MeetAddTaskDialog.js"],"names":["React","useState","useContext","makeStyles","withStyles","moment","Dialog","Button","TextField","DatePicker","MuiPickersUtilsProvider","MomentUtils","Autocomplete","GooglePlacesAutocomplete","TimerIcon","IconButton","CloseIcon","TodayIcon","PlaceIcon","DataContext","UserProvider","UserContext","CssTextField","root","fontFamily","paddingTop","background","styles","theme","detailTitle","color","fontWeight","fontSize","paddingBottom","marginBlockStart","marginBlockEnd","detailText","paddingLeft","closeButton","position","right","spacing","top","editButton","taskSelect","width","borderStyle","borderWidth","borderRadius","marginLeft","padding","addTaskInput","margin","createTaskButton","alignSelf","MeetAddTaskDialog","props","classes","onClose","open","handleClose","taskTitle","setTaskTitle","taskDesc","setTaskDesc","taskAddress","setAddress","selectedStartTime","handleStartTimeChange","selectedEndTime","handleEndTimeChange","Date","selectedDate","handleDateChange","setRefresh","user","menuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","handleForm","e","preventDefault","requestOptions","method","headers","localStorage","getItem","body","JSON","stringify","token","uid","title","desc","date","format","address","value","undefined","description","startTime","endTime","category","fetch","then","response","json","data","taskId","error","console","log","alert","style","backgroundColor","boxShadow","elevation","display","target","alignItems","justifyContent","control","provider","state","height","borderColor","isFocused","container","provided","input","option","menu","singleValue","dropdownIndicator","indicatorSeparator","onChange","flexDirection","paddingRight","border","startTimeSlots","event","newInputValue","params","marginRight","endTimeSlots","getMinutes","index","Array","from","map","_","Math","floor"],"mappings":"mVAAA,MAAO,eAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,0BAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAGA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,UAAT,CAAqBC,uBAArB,KAAoD,sBAApD,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CACA,MAAOC,CAAAA,wBAAP,KAAqC,kCAArC,CAEA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CAEA,OAASC,WAAT,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,YAAP,EAAuBC,WAAvB,KAA0C,8BAA1C,CAEA,GAAMC,CAAAA,YAAY,CAAGlB,UAAU,CAAC,CAC5BmB,IAAI,CAAE,CACJ,yBAA0B,CACxBC,UAAU,CAAE,SADY,CAExBC,UAAU,CAAE,CAFY,CAGxBC,UAAU,CAAE,2BAHY,CADtB,CADsB,CAAD,CAAV,CAQlBlB,SARkB,CAArB,CAUA,GAAMmB,CAAAA,MAAM,CAAGxB,UAAU,CAAC,SAACyB,KAAD,QAAY,CAClCC,WAAW,CAAE,CACTL,UAAU,CAAE,SADH,CAETM,KAAK,CAAE,SAFE,CAGTC,UAAU,CAAE,KAHH,CAITC,QAAQ,CAAE,OAJD,CAKTC,aAAa,CAAE,MALN,CAMTC,gBAAgB,CAAE,CANT,CAOTC,cAAc,CAAE,CAPP,CADqB,CAUlCC,UAAU,CAAE,CACRZ,UAAU,CAAE,SADJ,CAERM,KAAK,CAAE,SAFC,CAGRC,UAAU,CAAE,KAHJ,CAIRC,QAAQ,CAAE,OAJF,CAKRE,gBAAgB,CAAE,CALV,CAMRC,cAAc,CAAE,CANR,CAORE,WAAW,CAAE,MAPL,CAVsB,CAmBlCC,WAAW,CAAE,CACTC,QAAQ,CAAE,UADD,CAETC,KAAK,CAAEZ,KAAK,CAACa,OAAN,CAAc,CAAd,CAFE,CAGTC,GAAG,CAAEd,KAAK,CAACa,OAAN,CAAc,GAAd,CAHI,CAITX,KAAK,CAAE,SAJE,CAnBqB,CAyBlCa,UAAU,CAAE,CACRJ,QAAQ,CAAE,UADF,CAERC,KAAK,CAAEZ,KAAK,CAACa,OAAN,CAAc,CAAd,CAFC,CAGRC,GAAG,CAAEd,KAAK,CAACa,OAAN,CAAc,GAAd,CAHG,CAIRX,KAAK,CAAE,SAJC,CAzBsB,CA+BlCc,UAAU,CAAE,CACRC,KAAK,CAAE,KADC,CAERnB,UAAU,CAAE,SAFJ,CAGRoB,WAAW,CAAC,MAHJ,CAIRC,WAAW,CAAE,CAJL,CAKRC,YAAY,CAAE,MALN,CAMRC,UAAU,CAAE,EANJ,CAORC,OAAO,CAAE,UAPD,CAQR,UAAU,CACNF,YAAY,CAAE,MADR,CAENtB,UAAU,CAAE,aAFN,CARF,CA/BsB,CA4ClCyB,YAAY,CAAE,CACV3B,UAAU,CAAE,SADF,CAEV4B,MAAM,CAAE,MAFE,CAGV,UAAW,CACP5B,UAAU,CAAE,SADL,CAHD,CAMV,UAAW,CACPA,UAAU,CAAE,SADL,CAND,CA5CoB,CAsDlC6B,gBAAgB,CAAE,CACdR,KAAK,CAAE,KADO,CAEdS,SAAS,CAAE,QAFG,CAGdF,MAAM,CAAE,MAHM,CAId5B,UAAU,CAAE,SAJE,CAKdQ,QAAQ,CAAE,MALI,CAMdD,UAAU,CAAE,KANE,CAOdD,KAAK,CAAE,OAPO,CAQdJ,UAAU,CAAE,SARE,CASd,UAAW,CACPA,UAAU,CAAE,SADL,CATG,CAtDgB,CAAZ,EAAD,CAAzB,CAqEA,MAAO,SAAS6B,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CACrC,GAAMC,CAAAA,OAAO,CAAG9B,MAAM,EAAtB,CADqC,GAG7B+B,CAAAA,OAH6B,CAGXF,KAHW,CAG7BE,OAH6B,CAGpBC,IAHoB,CAGXH,KAHW,CAGpBG,IAHoB,CAKrC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBF,OAAO,GACV,CAFD,CALqC,cASHzD,QAAQ,CAAC,EAAD,CATL,wCAS9B4D,SAT8B,eASnBC,YATmB,8BAUL7D,QAAQ,CAAC,EAAD,CAVH,yCAU9B8D,QAV8B,eAUpBC,WAVoB,8BAWH/D,QAAQ,CAAC,EAAD,CAXL,yCAW9BgE,WAX8B,eAWjBC,UAXiB,8BAYcjE,QAAQ,CAAC,OAAD,CAZtB,yCAY9BkE,iBAZ8B,eAYXC,qBAZW,8BAaUnE,QAAQ,CAAC,OAAD,CAblB,0CAa9BoE,eAb8B,gBAabC,mBAba,gCAcIrE,QAAQ,CAAC,GAAIsE,CAAAA,IAAJ,EAAD,CAdZ,2CAc9BC,YAd8B,gBAchBC,gBAdgB,gCAgBdvE,UAAU,CAACiB,WAAD,CAhBI,CAgB7BuD,UAhB6B,aAgB7BA,UAhB6B,CAiBrC,GAAMC,CAAAA,IAAI,CAAGzE,UAAU,CAACmB,WAAD,CAAvB,CAEA;AACA,GAAMuD,CAAAA,SAAS,CAAG,CACdC,YAAY,CAAE,CACdC,QAAQ,CAAE,QADI,CAEVC,UAAU,CAAE,MAFF,CADA,CAKdC,eAAe,CAAE,CACjBF,QAAQ,CAAE,KADO,CAEbC,UAAU,CAAE,MAFC,CALH,CASdE,kBAAkB,CAAE,IATN,CAAlB,CAYA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,CAAC,CAAI,CACpBA,CAAC,CAACC,cAAF,GACA,GAAI,CACA,GAAMC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAsC,SAAU,KAAhD,CAAuD,gBAAiB,UAAYC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAApF,CAFU,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,KAAK,CAAElB,IAAI,CAACmB,GADK,CAEjBC,KAAK,CAAElC,SAFU,CAGjBmC,IAAI,CAAEjC,QAHW,CAIjBkC,IAAI,CAAE5F,MAAM,CAACmE,YAAD,CAAN,CAAqB0B,MAArB,CAA4B,YAA5B,CAJW,CAKjBC,OAAO,CAAElC,WAAW,CAACmC,KAAZ,EAAqBC,SAArB,CAAiC,EAAjC,CAAsCpC,WAAW,CAACmC,KAAZ,CAAkBE,WALhD,CAMjBC,SAAS,CAAEpC,iBANM,CAOjBqC,OAAO,CAAEnC,eAPQ,CAQjBoC,QAAQ,CAAE,EARO,CAAf,CAHa,CAAvB,CAcAC,KAAK,CAAC,sFAAD,CAAyFrB,cAAzF,CAAL,CACKsB,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAIpC,CAAAA,UAAU,CAACoC,IAAI,CAACC,MAAN,CAAd,EAFd,EAGH,CAAC,MAAMC,KAAN,CAAa,CACXC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAG,KAAK,CAAC,+CAAD,CAAL,CACH,CAEDrD,YAAY,CAAC,EAAD,CAAZ,CACAE,WAAW,CAAC,EAAD,CAAX,CACAI,qBAAqB,CAAC,OAAD,CAArB,CACAE,mBAAmB,CAAC,OAAD,CAAnB,CACAJ,UAAU,CAAC,EAAD,CAAV,CACAO,gBAAgB,CAAC,GAAIF,CAAAA,IAAJ,EAAD,CAAhB,CACAX,WAAW,GACd,CAhCD,CAkCA,mBACI,oBAAC,uBAAD,EAAyB,KAAK,CAAEjD,WAAhC,eAEI,oBAAC,MAAD,EACA,OAAO,CAAEiD,WADT,CAEA,IAAI,CAAED,IAFN,CAGA,SAAS,CAAE,IAHX,CAIA,QAAQ,CAAE,IAJV,CAKA,UAAU,CAAE,CAAEyD,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAnB,CAA8BvF,KAAK,CAAE,OAArC,CAA8CkB,YAAY,CAAE,MAA5D,CAAoEE,OAAO,CAAE,MAA7E,CAAqFoE,SAAS,CAAE,mCAAhG,CAAT,CAAiJC,SAAS,CAAE,CAA5J,CALZ,CAMA,aAAa,CAAE,CAAEH,KAAK,CAAE,CAAEC,eAAe,CAAE,qBAAnB,CAAT,CANf,eAQI,4BAAM,QAAQ,CAAE,kBAAAlC,CAAC,QAAID,CAAAA,UAAU,CAACC,CAAD,CAAd,EAAjB,CAAoC,KAAK,CAAE,CAACqC,OAAO,CAAE,UAAV,CAA3C,eACI,0BAAI,SAAS,CAAE/D,OAAO,CAAC5B,WAAvB,2BADJ,cAEI,oBAAC,UAAD,EAAY,aAAW,OAAvB,CAA+B,SAAS,CAAE4B,OAAO,CAACnB,WAAlD,CAA+D,OAAO,CAAEoB,OAAxE,eACI,oBAAC,SAAD,MADJ,CAFJ,cAMI,oBAAC,SAAD,EACI,KAAK,CAAC,UADV,CAEI,OAAO,CAAC,UAFZ,CAGI,KAAK,CAAEG,SAHX,CAII,QAAQ,CAAE,kBAAAsB,CAAC,QAAIrB,CAAAA,YAAY,CAACqB,CAAC,CAACsC,MAAF,CAASrB,KAAV,CAAhB,EAJf,CAKI,SAAS,CAAE3C,OAAO,CAACN,YALvB,EANJ,cAcI,oBAAC,SAAD,EACI,KAAK,CAAC,OADV,CAEI,SAAS,KAFb,CAGI,IAAI,CAAE,CAHV,CAII,OAAO,CAAC,UAJZ,CAKI,KAAK,CAAEY,QALX,CAMI,QAAQ,CAAE,kBAAAoB,CAAC,QAAInB,CAAAA,WAAW,CAACmB,CAAC,CAACsC,MAAF,CAASrB,KAAV,CAAf,EANf,CAOI,SAAS,CAAE3C,OAAO,CAACN,YAPvB,EAdJ,cAwBI,4BAAM,KAAK,CAAE,CAAEqE,OAAO,CAAE,MAAX,CAAmBE,UAAU,CAAE,QAA/B,CAAyCC,cAAc,CAAE,OAAzD,CAAkEzE,OAAO,CAAE,UAA3E,CAAuFb,WAAW,CAAE,MAApG,CAAb,eACI,oBAAC,SAAD,MADJ,cAGI,oBAAC,wBAAD,EACI,WAAW,CAAE,CACTV,MAAM,CAAE,CACJiG,OAAO,CAAE,iBAACC,QAAD,CAAWC,KAAX,wCACFD,QADE,MAELnG,UAAU,CAAE,MAFP,CAGLF,UAAU,CAAE,SAHP,CAILqB,KAAK,CAAE,OAJF,CAKLkF,MAAM,CAAE,OALH,CAMLC,WAAW,CAAE,qBANR,CAOL,UAAW,CACPA,WAAW,CAAEF,KAAK,CAACG,SAAN,CAAkB,0BAAlB,CAA+C,OADrD,CAPN,IADL,CAYJC,SAAS,CAAE,mBAACC,QAAD,wCACJA,QADI,MAEPtF,KAAK,CAAE,MAFA,CAGPI,UAAU,CAAE,MAHL,IAZP,CAiBJmF,KAAK,CAAE,eAACD,QAAD,wCACAA,QADA,MAEH3G,UAAU,CAAE,SAFT,CAGHM,KAAK,CAAE,SAHJ,IAjBH,CAsBJuG,MAAM,CAAE,gBAACF,QAAD,wCACDA,QADC,MAEJ3G,UAAU,CAAE,SAFR,CAGJM,KAAK,CAAE,SAHH,IAtBJ,CA2BJwG,IAAI,CAAE,cAACH,QAAD,wCACCA,QADD,MAEFtF,KAAK,CAAE,OAFL,IA3BF,CA+BJ0F,WAAW,CAAE,qBAACJ,QAAD,wCACNA,QADM,MAET3G,UAAU,CAAE,SAFH,CAGTM,KAAK,CAAE,SAHE,IA/BT,CAoCJ0G,iBAAiB,CAAE,2BAACX,QAAD,wCACZA,QADY,MAEf/F,KAAK,CAAE,qBAFQ,IApCf,CAwCJ2G,kBAAkB,CAAE,4BAACZ,QAAD,wCACbA,QADa,MAEhB/F,KAAK,CAAE,qBAFS,IAxChB,CADC,CA8CTmC,WAAW,CAAXA,WA9CS,CA+CTyE,QAAQ,CAAExE,UA/CD,CADjB,EAHJ,CAxBJ,cAgFI,2BAAK,KAAK,CAAE,CAACwD,UAAU,CAAC,QAAZ,CAAsBF,OAAO,CAAE,MAA/B,CAAuCmB,aAAa,CAAC,KAArD,CAA4DhB,cAAc,CAAE,eAA5E,CAA6FtF,WAAW,CAAE,MAA1G,CAAkHuG,YAAY,CAAE,MAAhI,CAAZ,eACI,4BAAM,KAAK,CAAE,CAAEpB,OAAO,CAAE,MAAX,CAAmBE,UAAU,CAAE,QAA/B,CAAyCC,cAAc,CAAE,OAAzD,CAAkEzE,OAAO,CAAE,UAA3E,CAAb,eACI,oBAAC,SAAD,MADJ,cAEI,oBAAC,UAAD,EACI,MAAM,KADV,CAEI,cAAc,KAFlB,CAGI,OAAO,CAAC,QAHZ,CAII,YAAY,CAAC,UAJjB,CAKI,KAAK,CAAE,CAAEL,KAAK,CAAE,EAAT,CAAaI,UAAU,CAAE,EAAzB,CAA6BvB,UAAU,CAAE,2BAAzC,CAAsEsB,YAAY,CAAE,KAApF,CAA2F6F,MAAM,CAAE,MAAnG,CALX,CAMI,MAAM,CAAC,UANX,CAOI,KAAK,CAAErE,YAPX,CAQI,QAAQ,CAAE,kBAAAyB,IAAI,QAAIxB,CAAAA,gBAAgB,CAACwB,IAAD,CAApB,EARlB,EAFJ,CADJ,cAeI,4BAAM,KAAK,CAAE,CAAEuB,OAAO,CAAE,MAAX,CAAmBE,UAAU,CAAE,QAA/B,CAAyCC,cAAc,CAAE,OAAzD,CAAkEzE,OAAO,CAAE,UAA3E,CAAb,eACI,oBAAC,SAAD,MADJ,cAEI,oBAAC,YAAD,EACI,EAAE,CAAC,aADP,CAEI,OAAO,CAAE4F,cAFb,CAGI,KAAK,CAAE,CAAEjG,KAAK,CAAE,EAAT,CAAaI,UAAU,CAAE,EAAzB,CAHX,CAII,gBAAgB,KAJpB,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAEkB,iBANX,CAOI,UAAU,CAAEA,iBAPhB,CAQI,aAAa,CAAE,uBAAC4E,KAAD,CAAQC,aAAR,CAA0B,CACrC5E,qBAAqB,CAAC4E,aAAD,CAArB,CACH,CAVL,CAWI,WAAW,CAAE,qBAACC,MAAD,qBACT,oBAAC,YAAD,kBAAkBA,MAAlB,EAA0B,OAAO,CAAC,UAAlC,CAA6C,KAAK,CAAE,CAACvH,UAAU,CAAE,2BAAb,CAA0CsB,YAAY,CAAE,KAAxD,CAApD,GADS,EAXjB,EAFJ,cAiBI,0BAAI,KAAK,CAAE,CAACC,UAAU,CAAC,KAAZ,CAAmBiG,WAAW,CAAC,KAA/B,CAAsClH,QAAQ,CAAC,MAA/C,CAAuDD,UAAU,CAAC,GAAlE,CAAX,MAjBJ,cAkBI,oBAAC,YAAD,EACI,EAAE,CAAC,aADP,CAEI,OAAO,CAAEoH,YAFb,CAGI,KAAK,CAAE,CAAEtG,KAAK,CAAE,EAAT,CAHX,CAII,gBAAgB,KAJpB,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAEwB,eANX,CAOI,UAAU,CAAEA,eAPhB,CAQI,aAAa,CAAE,uBAAC0E,KAAD,CAAQC,aAAR,CAA0B,CACrC1E,mBAAmB,CAAC0E,aAAD,CAAnB,CACH,CAVL,CAWI,WAAW,CAAE,qBAACC,MAAD,qBACT,oBAAC,YAAD,kBAAkBA,MAAlB,EAA0B,OAAO,CAAC,UAAlC,CAA6C,KAAK,CAAE,CAACvH,UAAU,CAAE,2BAAb,CAA0CsB,YAAY,CAAE,KAAxD,CAApD,GADS,EAXjB,EAlBJ,CAfJ,CAhFJ,cAmII,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAES,OAAO,CAACJ,gBAAzC,kBAnIJ,CARJ,CAFJ,CADJ,CAwJH,CAQD,GAAM+F,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1B,GAAIA,KAAK,CAAG,CAAR,GAAc,CAAlB,CAAqB,CACjB,MAAO,IAAP,CACH,CAFD,IAEO,IAAKA,KAAK,CAAG,CAAR,GAAc,CAAnB,CAAuB,CAC1B,MAAO,IAAP,CACH,CAFM,IAEA,IAAKA,KAAK,CAAG,CAAR,GAAc,CAAnB,CAAuB,CAC1B,MAAO,IAAP,CACH,CAFM,IAEA,CACH,MAAO,IAAP,CACH,CACJ,CAVD,CAYA,GAAMP,CAAAA,cAAc,CAAGQ,KAAK,CAACC,IAAN,CAAW,GAAID,CAAAA,KAAJ,CAAU,GAAK,CAAf,CAAX,EAA8BE,GAA9B,CACnB,SAACC,CAAD,CAAIJ,KAAJ,kBAAiBK,IAAI,CAACC,KAAL,CAAWN,KAAK,CAAG,CAAnB,CAAjB,aAA0CD,UAAU,CAACC,KAAD,CAApD,GADmB,CAAvB,CAIA,GAAMF,CAAAA,YAAY,CAAGG,KAAK,CAACC,IAAN,CAAW,GAAID,CAAAA,KAAJ,CAAU,GAAK,CAAf,CAAX,EAA8BE,GAA9B,CACjB,SAACC,CAAD,CAAIJ,KAAJ,kBAAiBK,IAAI,CAACC,KAAL,CAAWN,KAAK,CAAG,CAAnB,CAAjB,aAA0CD,UAAU,CAACC,KAAD,CAApD,GADiB,CAArB","sourcesContent":["import '../../App.css';\nimport React, { useState, useContext } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\n\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { DatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport MomentUtils from '@date-io/moment';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\n\nimport TimerIcon from '@material-ui/icons/Timer';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TodayIcon from '@material-ui/icons/Today';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nimport { DataContext } from \"../../providers/DataProvider\";\nimport UserProvider, { UserContext } from \"../../providers/UserProvider\";\n\nconst CssTextField = withStyles({\n    root: {\n      '& .MuiFilledInput-root': {\n        fontFamily: 'Poppins',\n        paddingTop: 0,\n        background: 'rgba(171, 171, 171, 0.15)'\n      },\n    },\n})(TextField);\n\nconst styles = makeStyles((theme) => ({\n    detailTitle: {\n        fontFamily: 'Poppins',\n        color: '#2b2b2b',\n        fontWeight: '700',\n        fontSize: '1.6em',\n        paddingBottom: '15px',\n        marginBlockStart: 0,\n        marginBlockEnd: 0,\n    },\n    detailText: {\n        fontFamily: 'Poppins',\n        color: '#2b2b2b',\n        fontWeight: '500',\n        fontSize: '1.1em',\n        marginBlockStart: 0,\n        marginBlockEnd: 0,\n        paddingLeft: '20px',\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(2),\n        top: theme.spacing(3.5),\n        color: '#1f1f1d',\n    },\n    editButton: {\n        position: 'absolute',\n        right: theme.spacing(8),\n        top: theme.spacing(3.5),\n        color: '#2B2B28',\n    },\n    taskSelect: {\n        width: '90%',\n        background: '#FFEAC8',\n        borderStyle:'none',\n        borderWidth: 2,\n        borderRadius: '10px',\n        marginLeft: 18,\n        padding: '10px 0px',\n        \"&:focus\":{\n            borderRadius: '10px',\n            background: 'transparent',\n        },\n    },\n    addTaskInput: {\n        fontFamily: 'Poppins',\n        margin: '10px',\n        \"& label\": {\n            fontFamily: 'Poppins',\n        },\n        \"& input\": {\n            fontFamily: 'Poppins',\n        }\n    },\n    createTaskButton: {\n        width: '60%',\n        alignSelf: 'center',\n        margin: '20px',\n        fontFamily: 'Poppins',\n        fontSize: '14px',\n        fontWeight: '600',\n        color: 'white',\n        background: '#E3B04B',\n        '&:hover': {\n            background: '#ffc44f',\n        }\n    }\n}));\n\nexport function MeetAddTaskDialog(props) {\n    const classes = styles();\n\n    const { onClose, open } = props;\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const [taskTitle, setTaskTitle] = useState(\"\");\n    const [taskDesc, setTaskDesc] = useState(\"\");\n    const [taskAddress, setAddress] = useState(\"\");\n    const [selectedStartTime, handleStartTimeChange] = useState(\"13:00\");\n    const [selectedEndTime, handleEndTimeChange] = useState(\"14:00\")\n    const [selectedDate, handleDateChange] = useState(new Date());\n\n    const { setRefresh } = useContext(DataContext);\n    const user = useContext(UserContext);\n\n    // moves the menu below the select input\n    const menuProps = {\n        anchorOrigin: {\n        vertical: \"bottom\",\n            horizontal: \"left\"\n        },\n        transformOrigin: {\n        vertical: \"top\",\n            horizontal: \"left\"\n        },\n        getContentAnchorEl: null\n    };\n\n    const handleForm = e => {\n        e.preventDefault();\n        try {\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Accept': '*/*', 'Authorization': 'Bearer ' + localStorage.getItem(\"@token\") },\n                body: JSON.stringify({ \n                    token: user.uid,\n                    title: taskTitle,\n                    desc: taskDesc,\n                    date: moment(selectedDate).format(\"DD/MM/yyyy\"),\n                    address: taskAddress.value == undefined ? \"\" : taskAddress.value.description,\n                    startTime: selectedStartTime,\n                    endTime: selectedEndTime,\n                    category: \"\",\n                    })\n            };\n            fetch('https://europe-west1-plannerapp-960c1.cloudfunctions.net/app/api/create-meeting-task', requestOptions)\n                .then(response => response.json())\n                .then(data => setRefresh(data.taskId));\n        } catch(error) {\n            console.log(error);\n            alert(\"Something went wrong. Please try again later.\")\n        }\n\n        setTaskTitle(\"\");\n        setTaskDesc(\"\");\n        handleStartTimeChange(\"13:00\");\n        handleEndTimeChange(\"14:00\");\n        setAddress(\"\");\n        handleDateChange(new Date());\n        handleClose();\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            \n            <Dialog\n            onClose={handleClose}\n            open={open}\n            fullWidth={true}\n            maxWidth={'xs'}\n            PaperProps={{ style: { backgroundColor: '#FFEAC8', color: 'black', borderRadius: '30px', padding: '35px', boxShadow: '0px 0px 15px 0px rgba(0,0,0,0.15)', }, elevation: 0 }}\n            BackdropProps={{ style: { backgroundColor: \"rgba(0, 0, 0, 0.25)\" } }}\n            >\n                <form onSubmit={e => handleForm(e)} style={{display: 'contents'}}>\n                    <h1 className={classes.detailTitle}>Vytvoriť úlohu</h1>\n                    <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                        <CloseIcon />\n                    </IconButton>\n\n                    <TextField\n                        label=\"Názov\"\n                        variant=\"outlined\"\n                        value={taskTitle}\n                        onChange={e => setTaskTitle(e.target.value)}\n                        className={classes.addTaskInput}\n                    />\n\n                    <TextField\n                        label=\"Popis\"\n                        multiline\n                        rows={3}\n                        variant=\"outlined\"\n                        value={taskDesc}\n                        onChange={e => setTaskDesc(e.target.value)}\n                        className={classes.addTaskInput}\n                    />\n\n                    <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'start', padding: '10px 0px', paddingLeft: '10px' }}>\n                        <PlaceIcon />\n\n                        <GooglePlacesAutocomplete\n                            selectProps={{\n                                styles: {\n                                    control: (provider, state) => ({\n                                        ...provider,\n                                        background: 'none',\n                                        fontFamily: 'Poppins',\n                                        width: '97.8%',\n                                        height: '3.8em',\n                                        borderColor: 'rgba(0, 0, 0, 0.23)',\n                                        \"&:hover\": {\n                                            borderColor: state.isFocused ? \"-webkit-focus-ring-color\" : \"black\"\n                                        }\n                                    }),\n                                    container: (provided) => ({\n                                        ...provided,\n                                        width: '100%',\n                                        marginLeft: '10px',\n                                    }),\n                                    input: (provided) => ({\n                                        ...provided,\n                                        fontFamily: 'Poppins',\n                                        color: '#2b2b2b',\n                                    }),\n                                    option: (provided) => ({\n                                        ...provided,\n                                        fontFamily: 'Poppins',\n                                        color: '#2b2b2b',\n                                    }),\n                                    menu: (provided) => ({\n                                        ...provided,\n                                        width: '97.8%',\n                                    }),\n                                    singleValue: (provided) => ({\n                                        ...provided,\n                                        fontFamily: 'Poppins',\n                                        color: '#2b2b2b',\n                                    }),\n                                    dropdownIndicator: (provider) => ({\n                                        ...provider,\n                                        color: 'rgba(0, 0, 0, 0.23)',\n                                    }),\n                                    indicatorSeparator: (provider) => ({\n                                        ...provider,\n                                        color: 'rgba(0, 0, 0, 0.23)',\n                                    }),\n                                },\n                                taskAddress,\n                                onChange: setAddress,\n                            }}\n                        />\n                    </span>\n\n                    <div style={{alignItems:'center', display: 'flex', flexDirection:'row', justifyContent: 'space-between', paddingLeft: '10px', paddingRight: '10px'}}>\n                        <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'start', padding: '10px 0px' }}>\n                            <TodayIcon />\n                            <DatePicker\n                                autoOk\n                                disableToolbar\n                                variant=\"inline\"\n                                inputVariant=\"outlined\"\n                                style={{ width: 90, marginLeft: 10, background: 'rgba(171, 171, 171, 0.15)', borderRadius: '5px', border: 'none' }}\n                                format=\"D.M.YYYY\"\n                                value={selectedDate}\n                                onChange={date => handleDateChange(date)}\n                            />\n                        </span>\n\n                        <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'start', padding: '10px 0px' }}>\n                            <TimerIcon />\n                            <Autocomplete\n                                id=\"time-picker\"\n                                options={startTimeSlots}\n                                style={{ width: 90, marginLeft: 10 }}\n                                disableClearable\n                                freeSolo\n                                value={selectedStartTime}\n                                inputValue={selectedStartTime}\n                                onInputChange={(event, newInputValue) => {\n                                    handleStartTimeChange(newInputValue);\n                                }}\n                                renderInput={(params) => (\n                                    <CssTextField {...params} variant=\"outlined\" style={{background: 'rgba(171, 171, 171, 0.15)', borderRadius: '5px'}} />\n                                )}\n                            />\n                            <h3 style={{marginLeft:'8px', marginRight:'8px', fontSize:'20px', fontWeight:400}}>-</h3>\n                            <Autocomplete\n                                id=\"time-picker\"\n                                options={endTimeSlots}\n                                style={{ width: 90 }}\n                                disableClearable\n                                freeSolo\n                                value={selectedEndTime}\n                                inputValue={selectedEndTime}\n                                onInputChange={(event, newInputValue) => {\n                                    handleEndTimeChange(newInputValue);\n                                }}\n                                renderInput={(params) => (\n                                    <CssTextField {...params} variant=\"outlined\" style={{background: 'rgba(171, 171, 171, 0.15)', borderRadius: '5px'}} />\n                                )}\n                            />\n                        </span>\n                    </div>\n\n                    <Button type=\"submit\" className={classes.createTaskButton}>\n                        Vytvoriť\n                    </Button>\n                \n                </form>\n            </Dialog>\n            \n        </MuiPickersUtilsProvider>\n        \n    );\n}\n\nMeetAddTaskDialog.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n};\n\n\nconst getMinutes = (index) => {\n    if (index % 4 === 0) {\n        return '00'\n    } else if ( index % 2 === 0 ) {\n        return '30'\n    } else if ( index % 4 === 1 ) {\n        return '15'\n    } else {\n        return '45'\n    }\n}\n\nconst startTimeSlots = Array.from(new Array(24 * 4)).map(\n    (_, index) => `${Math.floor(index / 4)}:${getMinutes(index)}`\n);\n\nconst endTimeSlots = Array.from(new Array(24 * 4)).map(\n    (_, index) => `${Math.floor(index / 4)}:${getMinutes(index)}`\n);"]},"metadata":{},"sourceType":"module"}