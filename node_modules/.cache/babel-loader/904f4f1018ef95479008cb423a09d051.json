{"ast":null,"code":"var _jsxFileName = \"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/components/Task/Bubble/CommTaskBubble.tsx\";\nimport { FormControl, Grid, IconButton, MenuItem, Select } from '@material-ui/core';\nimport { Close, Create, Email, Flag, FormatAlignLeft, Phone, Schedule } from '@material-ui/icons';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport moment from 'moment';\nimport 'moment/locale/sk';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { useStyles } from '../../../App';\nimport '../../../App.css';\nimport { CommTasksDocument, Status, useEditCommTaskStatusMutation } from '../../../generated/graphql';\nimport { WeekContext } from '../../../providers/WeekProvider';\nimport { EditCommTask } from '../EditTask/EditCommTask';\nimport { menuProps } from '../helpers';\nimport { getTaskStatusData } from './TaskStatusData';\nexport function CommTaskBubble({\n  date,\n  commData\n}) {\n  const [selectedTask, setSelectedTask] = useState();\n  const [taskToEdit, setTaskToEdit] = useState({ ...selectedTask,\n    statusChanged: false\n  });\n  const [formState, setFormState] = useState({\n    id: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id,\n    userId: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.user.id,\n    date: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.date,\n    status: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.status\n  });\n  useEffect(() => {\n    if ((selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id) !== formState.id) {\n      setTaskToEdit({ ...taskToEdit,\n        ...selectedTask\n      });\n      setFormState({\n        id: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id,\n        userId: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.user.id,\n        date: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.date,\n        status: selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.status\n      });\n    }\n  }, [selectedTask, formState.id, taskToEdit]);\n  const [openEdit, setOpenEdit] = useState(false);\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n  };\n\n  if (commData == null || commData.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        justifyContent: 'center',\n        height: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Droppable, {\n      key: moment(date).unix() + 4,\n      droppableId: moment(date).unix() + 'c',\n      type: \"COMM\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, provided => /*#__PURE__*/React.createElement(motion.div, {\n      animate: {\n        opacity: [0, 1]\n      },\n      initial: {\n        opacity: 0\n      },\n      transition: {\n        duration: 0.5\n      },\n      key: moment(date).unix() + 5,\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n      ref: provided.innerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        textAlign: 'center',\n        paddingTop: '18px',\n        color: '#bdbdbd',\n        fontFamily: 'Poppins',\n        fontSize: '18px',\n        fontWeight: 500\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Pr\\xE1zdne\"), provided.placeholder))));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Droppable, {\n      key: moment(date).unix() + 6,\n      droppableId: moment(date).unix() + 'c',\n      type: \"COMM\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, provided => /*#__PURE__*/React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n      ref: provided.innerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    }), commData.map((item, index) => /*#__PURE__*/React.createElement(CommTaskRender, {\n      item: item,\n      index: index,\n      key: index,\n      selectedTask: selectedTask,\n      setSelectedTask: setSelectedTask,\n      setOpenEdit: setOpenEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    })), provided.placeholder)), /*#__PURE__*/React.createElement(EditCommTask, {\n      onClose: handleCloseEdit,\n      open: openEdit,\n      selectedTask: { ...selectedTask,\n        status: taskToEdit.status,\n        statusChanged: (selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.status) !== formState.status\n      },\n      previousState: formState,\n      setPreviousStatusState: setFormState,\n      setSelectedTask: setTaskToEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }));\n  }\n}\n\nfunction CommTaskRender({\n  item,\n  index,\n  selectedTask,\n  setSelectedTask,\n  setOpenEdit\n}) {\n  const {\n    currWeek\n  } = useContext(WeekContext);\n  const delayRegular = 0;\n  const easeRegular = [0.83, 0, 0.17, 1];\n  const [formState, setFormState] = useState({\n    id: item.id,\n    userId: item.user.id,\n    date: item.date,\n    status: item.status\n  });\n  const [editCommTaskStatus] = useEditCommTaskStatusMutation();\n\n  const handleClickOpenEdit = () => {\n    setOpenEdit(true);\n  };\n\n  const handleStatusChange = async e => {\n    e.preventDefault();\n    setFormState({ ...formState,\n      status: e.target.value.toUpperCase()\n    });\n    setFormState(state => {\n      editCommTaskStatus({\n        variables: { ...state\n        },\n        optimisticResponse: {\n          editTask: { ...item,\n            ...state\n          }\n        },\n        update: (store, {\n          data\n        }) => {\n          store.readQuery({\n            query: CommTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            }\n          });\n          return store.writeQuery({\n            query: CommTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            },\n            data: {\n              items: [data === null || data === void 0 ? void 0 : data.editTask]\n            }\n          });\n        }\n      });\n      return state;\n    });\n  };\n\n  const variants = {\n    initial: {\n      height: 0,\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    open: {\n      height: '18em',\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    close: {\n      height: 0,\n      transition: {\n        duration: 0.45,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    }\n  };\n  const variantsStatus = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsDescription = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsEmail = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.2,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.2,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsTelephone = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.25,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.25,\n        duration: 0.35\n      }\n    }\n  };\n  const variantsTime = {\n    open: {\n      opacity: 0,\n      display: 'none',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 1,\n      transition: {\n        delay: 0.2,\n        duration: 0.4\n      }\n    }\n  };\n  const variantsTitle = {\n    open: {\n      fontSize: '1.3em',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      fontSize: '1em',\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n  const variantsCloseButton = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.4,\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n  const variantsScroll = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.35,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.35\n      }\n    }\n  };\n  const open = item.id === (selectedTask === null || selectedTask === void 0 ? void 0 : selectedTask.id);\n\n  const setOpen = task => {\n    setSelectedTask(task);\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(Draggable, {\n    key: item.id,\n    draggableId: item.id,\n    index: index,\n    isDragDisabled: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 5\n    }\n  }, provided => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    ref: provided.innerRef\n  }, provided.draggableProps, provided.dragHandleProps, {\n    style: {\n      marginBottom: '1em',\n      ...provided.draggableProps.style\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(AnimatePresence, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.taskBubble,\n    style: {\n      backgroundColor: open ? '#ECEFF1' : getTaskStatusData(item.status).color,\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '1.5em'\n    },\n    onClick: () => {\n      if (open === true) return;\n      return setOpen(item);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    layoutId: item.id,\n    variants: variants,\n    initial: \"initial\",\n    animate: open ? 'open' : 'close',\n    exit: \"close\",\n    style: {\n      width: '100%'\n    },\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      position: 'absolute',\n      zIndex: 1,\n      top: 5,\n      right: 50,\n      width: '3em',\n      height: '3em',\n      display: 'flex'\n    },\n    variants: variantsCloseButton,\n    animate: open ? variantsCloseButton.open : variantsCloseButton.close,\n    initial: variantsCloseButton.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"edit\",\n    style: {\n      color: '#1f1f1d'\n    },\n    onClick: () => {\n      handleClickOpenEdit();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Create, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    style: {\n      color: '#1f1f1d'\n    },\n    onClick: () => setSelectedTask(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Close, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 8,\n    md: 8,\n    lg: 8,\n    justify: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      width: '100%'\n    },\n    variants: variantsTitle,\n    animate: open ? variantsTitle.open : variantsTitle.close,\n    initial: variantsTitle.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.bubbleTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 23\n    }\n  }, item.title))), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 4,\n    md: 4,\n    lg: 4,\n    justify: \"flex-end\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    variants: variantsTime,\n    animate: open ? variantsTime.open : variantsTime.close,\n    initial: variantsTime.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Schedule, {\n    style: {\n      marginRight: '5px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: classes.bubbleWorkTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 23\n    }\n  }, item.workTime)))), /*#__PURE__*/React.createElement(motion.div, {\n    variants: variantsScroll,\n    animate: open ? variantsScroll.open : variantsScroll.close,\n    initial: variantsScroll.close,\n    exit: variantsScroll.close,\n    style: {\n      width: '100%',\n      height: '16em',\n      overflowY: 'auto',\n      marginTop: '1.2em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 17\n    }\n  }, open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsStatus,\n    animate: open ? variantsStatus.open : variantsStatus.close,\n    initial: variantsStatus.close,\n    exit: variantsStatus.close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'start',\n      padding: '0px 0px 10px 0px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Flag, {\n    style: {\n      paddingTop: '2px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FormControl, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    disableUnderline: true,\n    classes: {\n      root: 'task-select'\n    },\n    MenuProps: menuProps,\n    value: formState.status.toLowerCase(),\n    onChange: handleStatusChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'done',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 29\n    }\n  }, renderTaskStatusBubble(getTaskStatusData(Status.Done))), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'in_progress',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 29\n    }\n  }, renderTaskStatusBubble(getTaskStatusData(Status.InProgress))), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 'not_done',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 29\n    }\n  }, renderTaskStatusBubble(getTaskStatusData(Status.NotDone))))))), open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsDescription,\n    animate: open ? variantsDescription.open : variantsDescription.close,\n    initial: variantsDescription.close,\n    exit: variantsDescription.close,\n    style: {\n      marginTop: '0.5em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 21\n    }\n  }, item.description !== '' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"task-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormatAlignLeft, {\n    style: {\n      paddingTop: '2px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"detail-text\",\n    style: {\n      textAlign: 'justify'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 27\n    }\n  }, item.description))), open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsEmail,\n    animate: open ? variantsEmail.open : variantsEmail.close,\n    initial: variantsEmail.close,\n    exit: variantsEmail.close,\n    style: {\n      marginTop: '0.5em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 21\n    }\n  }, item.email !== '' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"task-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 628,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Email, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"detail-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 630,\n      columnNumber: 27\n    }\n  }, item.email))), open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsTelephone,\n    animate: open ? variantsTelephone.open : variantsTelephone.close,\n    initial: variantsTelephone.close,\n    exit: variantsTelephone.close,\n    style: {\n      marginTop: '0.5em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 21\n    }\n  }, item.phoneNumber !== '' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"task-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Phone, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"detail-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 650,\n      columnNumber: 27\n    }\n  }, item.phoneNumber))), open && /*#__PURE__*/React.createElement(motion.div, {\n    layout: true,\n    variants: variantsTime,\n    animate: open ? variantsTime.open : variantsTime.close,\n    initial: variantsTime.close,\n    exit: variantsTime.close,\n    style: {\n      marginTop: '0.5em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 21\n    }\n  }, item.workTime !== '' && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"task-detail-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 666,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Schedule, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 667,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"detail-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 668,\n      columnNumber: 27\n    }\n  }, item.workTime)))))))));\n}\n\nconst renderTaskStatusBubble = taskStatusData => {\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: 'task-status',\n    style: {\n      backgroundColor: taskStatusData.color\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 686,\n      columnNumber: 5\n    }\n  }, taskStatusData.title);\n};","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/components/Task/Bubble/CommTaskBubble.tsx"],"names":["FormControl","Grid","IconButton","MenuItem","Select","Close","Create","Email","Flag","FormatAlignLeft","Phone","Schedule","AnimatePresence","motion","moment","React","useContext","useEffect","useState","Draggable","Droppable","useStyles","CommTasksDocument","Status","useEditCommTaskStatusMutation","WeekContext","EditCommTask","menuProps","getTaskStatusData","CommTaskBubble","date","commData","selectedTask","setSelectedTask","taskToEdit","setTaskToEdit","statusChanged","formState","setFormState","id","userId","user","status","openEdit","setOpenEdit","handleCloseEdit","length","justifyContent","height","unix","provided","opacity","duration","width","droppableProps","innerRef","textAlign","paddingTop","color","fontFamily","fontSize","fontWeight","placeholder","map","item","index","CommTaskRender","currWeek","delayRegular","easeRegular","editCommTaskStatus","handleClickOpenEdit","handleStatusChange","e","preventDefault","target","value","toUpperCase","state","variables","optimisticResponse","editTask","update","store","data","readQuery","query","dateFrom","Date","toISOString","dateTo","writeQuery","items","variants","initial","transition","delay","ease","open","close","variantsStatus","scale","variantsDescription","variantsEmail","variantsTelephone","variantsTime","display","variantsTitle","variantsCloseButton","variantsScroll","setOpen","task","classes","draggableProps","dragHandleProps","marginBottom","style","taskBubble","backgroundColor","flexDirection","minHeight","position","zIndex","top","right","undefined","bubbleTitle","title","alignItems","marginRight","bubbleWorkTime","workTime","overflowY","marginTop","padding","root","toLowerCase","renderTaskStatusBubble","Done","InProgress","NotDone","description","email","phoneNumber","taskStatusData"],"mappings":"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","sourcesContent":["import {\n  FormControl,\n  Grid,\n  IconButton,\n  MenuItem,\n  Select\n} from '@material-ui/core';\nimport {\n  Close,\n  Create,\n  Email,\n  Flag,\n  FormatAlignLeft,\n  Phone,\n  Schedule\n} from '@material-ui/icons';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport moment from 'moment';\nimport 'moment/locale/sk';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Draggable, Droppable } from 'react-beautiful-dnd';\nimport { useStyles } from '../../../App';\nimport '../../../App.css';\nimport {\n  CommTasksDocument,\n  CommunicationTask,\n  Status,\n  useEditCommTaskStatusMutation\n} from '../../../generated/graphql';\nimport { WeekContext } from '../../../providers/WeekProvider';\nimport { EditCommTask } from '../EditTask/EditCommTask';\nimport { menuProps } from '../helpers';\nimport { PickCommunicationTask } from '../RenderTaskList';\nimport { getTaskStatusData } from './TaskStatusData';\n\nexport function CommTaskBubble({\n  date,\n  commData\n}: {\n  date: number;\n  commData: PickCommunicationTask[];\n}) {\n  const [selectedTask, setSelectedTask] = useState<PickCommunicationTask>();\n\n  const [taskToEdit, setTaskToEdit] = useState<\n    Partial<PickCommunicationTask> & { statusChanged: boolean }\n  >({\n    ...selectedTask,\n    statusChanged: false\n  });\n\n  const [formState, setFormState] = useState<\n    Partial<\n      Pick<CommunicationTask, 'id' | 'date' | 'status'> & { userId: string }\n    >\n  >({\n    id: selectedTask?.id,\n    userId: selectedTask?.user.id,\n    date: selectedTask?.date,\n    status: selectedTask?.status\n  });\n\n  useEffect(() => {\n    if (selectedTask?.id !== formState.id) {\n      setTaskToEdit({ ...taskToEdit, ...selectedTask });\n      setFormState({\n        id: selectedTask?.id,\n        userId: selectedTask?.user.id,\n        date: selectedTask?.date,\n        status: selectedTask?.status\n      });\n    }\n  }, [selectedTask, formState.id, taskToEdit]);\n\n  const [openEdit, setOpenEdit] = useState<boolean>(false);\n\n  const handleCloseEdit = () => {\n    setOpenEdit(false);\n  };\n\n  if (commData == null || commData.length === 0) {\n    return (\n      <div\n        style={{\n          justifyContent: 'center',\n          height: '100%'\n        }}\n      >\n        <Droppable\n          key={moment(date).unix() + 4}\n          droppableId={moment(date).unix() + 'c'}\n          type=\"COMM\"\n        >\n          {(provided) => (\n            <motion.div\n              animate={{ opacity: [0, 1] }}\n              initial={{ opacity: 0 }}\n              transition={{ duration: 0.5 }}\n              key={moment(date).unix() + 5}\n              style={{ width: '100%' }}\n            >\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                <h3\n                  style={{\n                    textAlign: 'center',\n                    paddingTop: '18px',\n                    color: '#bdbdbd',\n                    fontFamily: 'Poppins',\n                    fontSize: '18px',\n                    fontWeight: 500\n                  }}\n                >\n                  Pr√°zdne\n                </h3>\n\n                {provided.placeholder}\n              </div>\n            </motion.div>\n          )}\n        </Droppable>\n      </div>\n    );\n  } else {\n    return (\n      <div>\n        <Droppable\n          key={moment(date).unix() + 6}\n          droppableId={moment(date).unix() + 'c'}\n          type=\"COMM\"\n        >\n          {(provided) => (\n            <div {...provided.droppableProps} ref={provided.innerRef}>\n              {commData.map((item, index) => (\n                <CommTaskRender\n                  item={item}\n                  index={index}\n                  key={index}\n                  selectedTask={selectedTask}\n                  setSelectedTask={setSelectedTask}\n                  setOpenEdit={setOpenEdit}\n                />\n              ))}\n              {provided.placeholder}\n            </div>\n          )}\n        </Droppable>\n        <EditCommTask\n          onClose={handleCloseEdit}\n          open={openEdit}\n          selectedTask={{\n            ...selectedTask,\n            status: taskToEdit.status,\n            statusChanged: selectedTask?.status !== formState.status\n          }}\n          previousState={formState}\n          setPreviousStatusState={setFormState}\n          setSelectedTask={setTaskToEdit}\n        />\n      </div>\n    );\n  }\n}\n\nfunction CommTaskRender({\n  item,\n  index,\n  selectedTask,\n  setSelectedTask,\n  setOpenEdit\n}: {\n  item: PickCommunicationTask;\n  index: number;\n  selectedTask: PickCommunicationTask | undefined;\n  setSelectedTask: React.Dispatch<\n    React.SetStateAction<PickCommunicationTask | undefined>\n  >;\n  setOpenEdit: React.Dispatch<React.SetStateAction<boolean>>;\n}) {\n  const { currWeek } = useContext(WeekContext);\n\n  const delayRegular = 0;\n  const easeRegular = [0.83, 0, 0.17, 1];\n\n  const [formState, setFormState] = useState({\n    id: item.id,\n    userId: item.user.id,\n    date: item.date,\n    status: item.status\n  });\n\n  const [editCommTaskStatus] = useEditCommTaskStatusMutation();\n\n  const handleClickOpenEdit = () => {\n    setOpenEdit(true);\n  };\n\n  const handleStatusChange = async (e) => {\n    e.preventDefault();\n\n    setFormState({ ...formState, status: e.target.value.toUpperCase() });\n\n    setFormState((state) => {\n      editCommTaskStatus({\n        variables: {\n          ...state\n        },\n        optimisticResponse: {\n          editTask: {\n            ...item,\n            ...state\n          }\n        },\n        update: (store, { data }) => {\n          store.readQuery<any>({\n            query: CommTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            }\n          });\n\n          return store.writeQuery({\n            query: CommTasksDocument,\n            variables: {\n              userId: item.user.id,\n              dateFrom: new Date(currWeek[0]).toISOString(),\n              dateTo: new Date(currWeek[6]).toISOString()\n            },\n            data: { items: [data?.editTask] }\n          });\n        }\n      });\n\n      return state;\n    });\n  };\n\n  const variants = {\n    initial: {\n      height: 0,\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    open: {\n      height: '18em',\n      transition: {\n        duration: 0.35,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    },\n    close: {\n      height: 0,\n      transition: {\n        duration: 0.45,\n        delay: delayRegular,\n        ease: easeRegular\n      }\n    }\n  };\n\n  const variantsStatus = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.05,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsDescription = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.1,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsEmail = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.2,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.2,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsTelephone = {\n    open: {\n      opacity: 1,\n      scale: 1,\n      transition: {\n        delay: 0.25,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      scale: 0,\n      transition: {\n        delay: 0.25,\n        duration: 0.35\n      }\n    }\n  };\n\n  const variantsTime = {\n    open: {\n      opacity: 0,\n      display: 'none',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 1,\n      transition: {\n        delay: 0.2,\n        duration: 0.4\n      }\n    }\n  };\n\n  const variantsTitle = {\n    open: {\n      fontSize: '1.3em',\n      transition: {\n        duration: 0.4\n      }\n    },\n    close: {\n      fontSize: '1em',\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n\n  const variantsCloseButton = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.4,\n        duration: 0.4\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.4\n      }\n    }\n  };\n\n  const variantsScroll = {\n    open: {\n      opacity: 1,\n      transition: {\n        delay: 0.35,\n        duration: 0.35\n      }\n    },\n    close: {\n      opacity: 0,\n      transition: {\n        duration: 0.35\n      }\n    }\n  };\n\n  const open = item.id === selectedTask?.id;\n  const setOpen = (task: PickCommunicationTask | undefined) => {\n    setSelectedTask(task);\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Draggable\n      key={item.id}\n      draggableId={item.id}\n      index={index}\n      isDragDisabled={open}\n    >\n      {(provided) => (\n        <div\n          ref={provided.innerRef}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          style={{\n            marginBottom: '1em',\n            ...provided.draggableProps.style\n          }}\n        >\n          <AnimatePresence>\n            <div\n              className={classes.taskBubble}\n              style={{\n                backgroundColor: open\n                  ? '#ECEFF1'\n                  : getTaskStatusData(item.status).color,\n                display: 'flex',\n                flexDirection: 'column',\n                minHeight: '1.5em'\n              }}\n              onClick={() => {\n                if (open === true) return;\n                return setOpen(item);\n              }}\n            >\n              <motion.div\n                layout\n                layoutId={item.id}\n                variants={variants}\n                initial=\"initial\"\n                animate={open ? 'open' : 'close'}\n                exit=\"close\"\n                style={{ width: '100%' }}\n                key={item.id}\n              >\n                <motion.div\n                  style={{\n                    position: 'absolute',\n                    zIndex: 1,\n                    top: 5,\n                    right: 50,\n                    width: '3em',\n                    height: '3em',\n                    display: 'flex'\n                  }}\n                  variants={variantsCloseButton}\n                  animate={\n                    open ? variantsCloseButton.open : variantsCloseButton.close\n                  }\n                  initial={variantsCloseButton.close}\n                >\n                  <IconButton\n                    aria-label=\"edit\"\n                    style={{ color: '#1f1f1d' }}\n                    onClick={() => {\n                      handleClickOpenEdit();\n                    }}\n                  >\n                    <Create />\n                  </IconButton>\n                  <IconButton\n                    aria-label=\"close\"\n                    style={{ color: '#1f1f1d' }}\n                    onClick={() => setSelectedTask(undefined)}\n                  >\n                    <Close />\n                  </IconButton>\n                </motion.div>\n                <Grid container>\n                  <Grid\n                    container\n                    item\n                    xs={8}\n                    md={8}\n                    lg={8}\n                    justify=\"flex-start\"\n                  >\n                    <motion.div\n                      style={{ width: '100%' }}\n                      variants={variantsTitle}\n                      animate={open ? variantsTitle.open : variantsTitle.close}\n                      initial={variantsTitle.close}\n                    >\n                      <h3 className={classes.bubbleTitle}>{item.title}</h3>\n                    </motion.div>\n                  </Grid>\n\n                  <Grid\n                    container\n                    item\n                    xs={4}\n                    md={4}\n                    lg={4}\n                    justify=\"flex-end\"\n                    alignItems=\"center\"\n                  >\n                    <motion.div\n                      style={{ display: 'flex', alignItems: 'center' }}\n                      variants={variantsTime}\n                      animate={open ? variantsTime.open : variantsTime.close}\n                      initial={variantsTime.close}\n                    >\n                      <Schedule style={{ marginRight: '5px' }} />\n                      <h3 className={classes.bubbleWorkTime}>\n                        {item.workTime}\n                      </h3>\n                    </motion.div>\n                  </Grid>\n                </Grid>\n\n                <motion.div\n                  variants={variantsScroll}\n                  animate={open ? variantsScroll.open : variantsScroll.close}\n                  initial={variantsScroll.close}\n                  exit={variantsScroll.close}\n                  style={{\n                    width: '100%',\n                    height: '16em',\n                    overflowY: 'auto',\n                    marginTop: '1.2em'\n                  }}\n                >\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsStatus}\n                      animate={\n                        open ? variantsStatus.open : variantsStatus.close\n                      }\n                      initial={variantsStatus.close}\n                      exit={variantsStatus.close}\n                    >\n                      <span\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          justifyContent: 'start',\n                          padding: '0px 0px 10px 0px'\n                        }}\n                      >\n                        <Flag style={{ paddingTop: '2px' }} />\n                        <FormControl>\n                          <Select\n                            disableUnderline\n                            classes={{ root: 'task-select' }}\n                            MenuProps={menuProps}\n                            value={formState.status.toLowerCase()}\n                            onChange={handleStatusChange}\n                          >\n                            <MenuItem value={'done'}>\n                              {renderTaskStatusBubble(\n                                getTaskStatusData(Status.Done)\n                              )}\n                            </MenuItem>\n                            <MenuItem value={'in_progress'}>\n                              {renderTaskStatusBubble(\n                                getTaskStatusData(Status.InProgress)\n                              )}\n                            </MenuItem>\n                            <MenuItem value={'not_done'}>\n                              {renderTaskStatusBubble(\n                                getTaskStatusData(Status.NotDone)\n                              )}\n                            </MenuItem>\n                          </Select>\n                        </FormControl>\n                      </span>\n                    </motion.div>\n                  )}\n\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsDescription}\n                      animate={\n                        open\n                          ? variantsDescription.open\n                          : variantsDescription.close\n                      }\n                      initial={variantsDescription.close}\n                      exit={variantsDescription.close}\n                      style={{ marginTop: '0.5em' }}\n                    >\n                      {item.description !== '' && (\n                        <span className=\"task-detail-info\">\n                          <FormatAlignLeft style={{ paddingTop: '2px' }} />\n                          <h3\n                            className=\"detail-text\"\n                            style={{ textAlign: 'justify' }}\n                          >\n                            {item.description}\n                          </h3>\n                        </span>\n                      )}\n                    </motion.div>\n                  )}\n\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsEmail}\n                      animate={open ? variantsEmail.open : variantsEmail.close}\n                      initial={variantsEmail.close}\n                      exit={variantsEmail.close}\n                      style={{ marginTop: '0.5em' }}\n                    >\n                      {item.email !== '' && (\n                        <span className=\"task-detail-info\">\n                          <Email />\n                          <h3 className=\"detail-text\">{item.email}</h3>\n                        </span>\n                      )}\n                    </motion.div>\n                  )}\n\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsTelephone}\n                      animate={\n                        open ? variantsTelephone.open : variantsTelephone.close\n                      }\n                      initial={variantsTelephone.close}\n                      exit={variantsTelephone.close}\n                      style={{ marginTop: '0.5em' }}\n                    >\n                      {item.phoneNumber !== '' && (\n                        <span className=\"task-detail-info\">\n                          <Phone />\n                          <h3 className=\"detail-text\">{item.phoneNumber}</h3>\n                        </span>\n                      )}\n                    </motion.div>\n                  )}\n\n                  {open && (\n                    <motion.div\n                      layout\n                      variants={variantsTime}\n                      animate={open ? variantsTime.open : variantsTime.close}\n                      initial={variantsTime.close}\n                      exit={variantsTime.close}\n                      style={{ marginTop: '0.5em' }}\n                    >\n                      {item.workTime !== '' && (\n                        <span className=\"task-detail-info\">\n                          <Schedule />\n                          <h3 className=\"detail-text\">{item.workTime}</h3>\n                        </span>\n                      )}\n                    </motion.div>\n                  )}\n\n                </motion.div>\n              </motion.div>\n            </div>\n          </AnimatePresence>\n        </div>\n      )}\n    </Draggable>\n  );\n}\n\nconst renderTaskStatusBubble = (taskStatusData) => {\n  return (\n    <span\n      className={'task-status'}\n      style={{ backgroundColor: taskStatusData.color }}\n    >\n      {taskStatusData.title}\n    </span>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}