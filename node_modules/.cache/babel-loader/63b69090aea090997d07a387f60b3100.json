{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _interactjs = _interopRequireDefault(require(\"interactjs\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _generic = require(\"../utility/generic\");\n\nvar _events = require(\"../utility/events\");\n\nvar _defaultItemRenderer = require(\"./defaultItemRenderer\");\n\nvar _calendar = require(\"../utility/calendar\");\n\nvar _domHelpers = require(\"../utility/dom-helpers\");\n\nvar _styles = require(\"./styles\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Item = /*#__PURE__*/function (_Component) {\n  _inherits(Item, _Component); // removed prop type check for SPEED!\n  // they are coming from a trusted component anyway\n  // (this complicates performance debugging otherwise)\n\n\n  function Item(_props) {\n    var _this;\n\n    _classCallCheck(this, Item);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Item).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedClicking = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      if (!_this.state.interactMounted && _this.startedClicking) {\n        _this.startedClicking = false;\n\n        _this.actualClick(e, 'click');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedTouching = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      if (!_this.state.interactMounted && _this.startedTouching) {\n        _this.startedTouching = false;\n\n        _this.actualClick(e, 'touch');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDoubleClick\", function (e) {\n      e.stopPropagation();\n\n      if (_this.props.onItemDoubleClick) {\n        _this.props.onItemDoubleClick(_this.itemId, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContextMenu\", function (e) {\n      if (_this.props.onContextMenu) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        _this.props.onContextMenu(_this.itemId, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemRef\", function (el) {\n      return _this.item = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDragLeftRef\", function (el) {\n      return _this.dragLeft = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDragRightRef\", function (el) {\n      return _this.dragRight = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {}; //TODO: maybe shouldnt include all of these classes\n\n      var classNames = 'rct-item' + (_this.props.item.className ? \" \".concat(_this.props.item.className) : '');\n      return {\n        key: _this.itemId,\n        ref: _this.getItemRef,\n        title: _this.itemDivTitle,\n        className: classNames + \" \".concat(props.className ? props.className : ''),\n        onMouseDown: (0, _events.composeEvents)(_this.onMouseDown, props.onMouseDown),\n        onMouseUp: (0, _events.composeEvents)(_this.onMouseUp, props.onMouseUp),\n        onTouchStart: (0, _events.composeEvents)(_this.onTouchStart, props.onTouchStart),\n        onTouchEnd: (0, _events.composeEvents)(_this.onTouchEnd, props.onTouchEnd),\n        onDoubleClick: (0, _events.composeEvents)(_this.handleDoubleClick, props.onDoubleClick),\n        onContextMenu: (0, _events.composeEvents)(_this.handleContextMenu, props.onContextMenu),\n        style: Object.assign({}, _this.getItemStyle(props))\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getResizeProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var leftName = \"rct-item-handler rct-item-handler-left rct-item-handler-resize-left\";\n\n      if (props.leftClassName) {\n        leftName += \" \".concat(props.leftClassName);\n      }\n\n      var rightName = \"rct-item-handler rct-item-handler-right rct-item-handler-resize-right\";\n\n      if (props.rightClassName) {\n        rightName += \" \".concat(props.rightClassName);\n      }\n\n      return {\n        left: {\n          ref: _this.getDragLeftRef,\n          className: leftName,\n          style: Object.assign({}, _styles.leftResizeStyle, props.leftStyle)\n        },\n        right: {\n          ref: _this.getDragRightRef,\n          className: rightName,\n          style: Object.assign({}, _styles.rightResizeStyle, props.rightStyle)\n        }\n      };\n    });\n\n    _this.cacheDataFromProps(_props);\n\n    _this.state = {\n      interactMounted: false,\n      dragging: null,\n      dragStart: null,\n      preDragPosition: null,\n      dragTime: null,\n      dragGroupDelta: null,\n      resizing: null,\n      resizeEdge: null,\n      resizeStart: null,\n      resizeTime: null\n    };\n    return _this;\n  }\n\n  _createClass(Item, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var shouldUpdate = nextState.dragging !== this.state.dragging || nextState.dragTime !== this.state.dragTime || nextState.dragGroupDelta !== this.state.dragGroupDelta || nextState.resizing !== this.state.resizing || nextState.resizeTime !== this.state.resizeTime || nextProps.keys !== this.props.keys || !(0, _generic.deepObjectCompare)(nextProps.itemProps, this.props.itemProps) || nextProps.selected !== this.props.selected || nextProps.item !== this.props.item || nextProps.canvasTimeStart !== this.props.canvasTimeStart || nextProps.canvasTimeEnd !== this.props.canvasTimeEnd || nextProps.canvasWidth !== this.props.canvasWidth || (nextProps.order ? nextProps.order.index : undefined) !== (this.props.order ? this.props.order.index : undefined) || nextProps.dragSnap !== this.props.dragSnap || nextProps.minResizeWidth !== this.props.minResizeWidth || nextProps.canChangeGroup !== this.props.canChangeGroup || nextProps.canSelect !== this.props.canSelect || nextProps.canMove !== this.props.canMove || nextProps.canResizeLeft !== this.props.canResizeLeft || nextProps.canResizeRight !== this.props.canResizeRight || nextProps.dimensions !== this.props.dimensions;\n      return shouldUpdate;\n    }\n  }, {\n    key: \"cacheDataFromProps\",\n    value: function cacheDataFromProps(props) {\n      this.itemId = (0, _generic._get)(props.item, props.keys.itemIdKey);\n      this.itemTitle = (0, _generic._get)(props.item, props.keys.itemTitleKey);\n      this.itemDivTitle = props.keys.itemDivTitleKey ? (0, _generic._get)(props.item, props.keys.itemDivTitleKey) : this.itemTitle;\n      this.itemTimeStart = (0, _generic._get)(props.item, props.keys.itemTimeStartKey);\n      this.itemTimeEnd = (0, _generic._get)(props.item, props.keys.itemTimeEndKey);\n    }\n  }, {\n    key: \"getTimeRatio\",\n    value: function getTimeRatio() {\n      var _this$props = this.props,\n          canvasTimeStart = _this$props.canvasTimeStart,\n          canvasTimeEnd = _this$props.canvasTimeEnd,\n          canvasWidth = _this$props.canvasWidth;\n      return (0, _calendar.coordinateToTimeRatio)(canvasTimeStart, canvasTimeEnd, canvasWidth);\n    }\n  }, {\n    key: \"dragTimeSnap\",\n    value: function dragTimeSnap(dragTime, considerOffset) {\n      var dragSnap = this.props.dragSnap;\n\n      if (dragSnap) {\n        var offset = considerOffset ? (0, _moment[\"default\"])().utcOffset() * 60 * 1000 : 0;\n        return Math.round(dragTime / dragSnap) * dragSnap - offset % dragSnap;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"resizeTimeSnap\",\n    value: function resizeTimeSnap(dragTime) {\n      var dragSnap = this.props.dragSnap;\n\n      if (dragSnap) {\n        var endTime = this.itemTimeEnd % dragSnap;\n        return Math.round((dragTime - endTime) / dragSnap) * dragSnap + endTime;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"dragTime\",\n    value: function dragTime(e) {\n      var startTime = (0, _moment[\"default\"])(this.itemTimeStart);\n\n      if (this.state.dragging) {\n        return this.dragTimeSnap(this.timeFor(e) + this.state.dragStart.offset, true);\n      } else {\n        return startTime;\n      }\n    }\n  }, {\n    key: \"timeFor\",\n    value: function timeFor(e) {\n      var ratio = (0, _calendar.coordinateToTimeRatio)(this.props.canvasTimeStart, this.props.canvasTimeEnd, this.props.canvasWidth);\n      var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetLeft;\n      var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n      return (e.pageX - offset + scrolls.scrollLeft) * ratio + this.props.canvasTimeStart;\n    }\n  }, {\n    key: \"dragGroupDelta\",\n    value: function dragGroupDelta(e) {\n      var _this$props2 = this.props,\n          groupTops = _this$props2.groupTops,\n          order = _this$props2.order;\n\n      if (this.state.dragging) {\n        if (!this.props.canChangeGroup) {\n          return 0;\n        }\n\n        var groupDelta = 0;\n        var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetTop;\n        var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n\n        for (var _i = 0, _Object$keys = Object.keys(groupTops); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          var groupTop = groupTops[key];\n\n          if (e.pageY - offset + scrolls.scrollTop > groupTop) {\n            groupDelta = parseInt(key, 10) - order.index;\n          } else {\n            break;\n          }\n        }\n\n        if (this.props.order.index + groupDelta < 0) {\n          return 0 - this.props.order.index;\n        } else {\n          return groupDelta;\n        }\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"resizeTimeDelta\",\n    value: function resizeTimeDelta(e, resizeEdge) {\n      var length = this.itemTimeEnd - this.itemTimeStart;\n      var timeDelta = this.dragTimeSnap((e.pageX - this.state.resizeStart) * this.getTimeRatio());\n\n      if (length + (resizeEdge === 'left' ? -timeDelta : timeDelta) < (this.props.dragSnap || 1000)) {\n        if (resizeEdge === 'left') {\n          return length - (this.props.dragSnap || 1000);\n        } else {\n          return (this.props.dragSnap || 1000) - length;\n        }\n      } else {\n        return timeDelta;\n      }\n    }\n  }, {\n    key: \"mountInteract\",\n    value: function mountInteract() {\n      var _this2 = this;\n\n      var leftResize = this.props.useResizeHandle ? \".rct-item-handler-resize-left\" : true;\n      var rightResize = this.props.useResizeHandle ? \".rct-item-handler-resize-right\" : true;\n      (0, _interactjs[\"default\"])(this.item).resizable({\n        edges: {\n          left: this.canResizeLeft() && leftResize,\n          right: this.canResizeRight() && rightResize,\n          top: false,\n          bottom: false\n        },\n        enabled: this.props.selected && (this.canResizeLeft() || this.canResizeRight())\n      }).draggable({\n        enabled: this.props.selected && this.canMove()\n      }).styleCursor(false).on('dragstart', function (e) {\n        if (_this2.props.selected) {\n          var clickTime = _this2.timeFor(e);\n\n          _this2.setState({\n            dragging: true,\n            dragStart: {\n              x: e.pageX,\n              y: e.pageY,\n              offset: _this2.itemTimeStart - clickTime\n            },\n            preDragPosition: {\n              x: e.target.offsetLeft,\n              y: e.target.offsetTop\n            },\n            dragTime: _this2.itemTimeStart,\n            dragGroupDelta: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('dragmove', function (e) {\n        if (_this2.state.dragging) {\n          var dragTime = _this2.dragTime(e);\n\n          var dragGroupDelta = _this2.dragGroupDelta(e);\n\n          if (_this2.props.moveResizeValidator) {\n            dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n          }\n\n          if (_this2.props.onDrag) {\n            _this2.props.onDrag(_this2.itemId, dragTime, _this2.props.order.index + dragGroupDelta);\n          }\n\n          _this2.setState({\n            dragTime: dragTime,\n            dragGroupDelta: dragGroupDelta\n          });\n        }\n      }).on('dragend', function (e) {\n        if (_this2.state.dragging) {\n          if (_this2.props.onDrop) {\n            var dragTime = _this2.dragTime(e);\n\n            if (_this2.props.moveResizeValidator) {\n              dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n            }\n\n            _this2.props.onDrop(_this2.itemId, dragTime, _this2.props.order.index + _this2.dragGroupDelta(e));\n          }\n\n          _this2.setState({\n            dragging: false,\n            dragStart: null,\n            preDragPosition: null,\n            dragTime: null,\n            dragGroupDelta: null\n          });\n        }\n      }).on('resizestart', function (e) {\n        if (_this2.props.selected) {\n          _this2.setState({\n            resizing: true,\n            resizeEdge: null,\n            // we don't know yet\n            resizeStart: e.pageX,\n            resizeTime: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('resizemove', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n\n          if (!resizeEdge) {\n            resizeEdge = e.deltaRect.left !== 0 ? 'left' : 'right';\n\n            _this2.setState({\n              resizeEdge: resizeEdge\n            });\n          }\n\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n\n          if (_this2.props.onResizing) {\n            _this2.props.onResizing(_this2.itemId, resizeTime, resizeEdge);\n          }\n\n          _this2.setState({\n            resizeTime: resizeTime\n          });\n        }\n      }).on('resizeend', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n\n          if (_this2.props.onResized) {\n            _this2.props.onResized(_this2.itemId, resizeTime, resizeEdge, _this2.resizeTimeDelta(e, resizeEdge));\n          }\n\n          _this2.setState({\n            resizing: null,\n            resizeStart: null,\n            resizeEdge: null,\n            resizeTime: null\n          });\n        }\n      }).on('tap', function (e) {\n        _this2.actualClick(e, e.pointerType === 'mouse' ? 'click' : 'touch');\n      });\n      this.setState({\n        interactMounted: true\n      });\n    }\n  }, {\n    key: \"canResizeLeft\",\n    value: function canResizeLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (!props.canResizeLeft) {\n        return false;\n      }\n\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canResizeRight\",\n    value: function canResizeRight() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (!props.canResizeRight) {\n        return false;\n      }\n\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canMove\",\n    value: function canMove() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return !!props.canMove;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.cacheDataFromProps(this.props);\n      var interactMounted = this.state.interactMounted;\n      var couldDrag = prevProps.selected && this.canMove(prevProps);\n      var couldResizeLeft = prevProps.selected && this.canResizeLeft(prevProps);\n      var couldResizeRight = prevProps.selected && this.canResizeRight(prevProps);\n      var willBeAbleToDrag = this.props.selected && this.canMove(this.props);\n      var willBeAbleToResizeLeft = this.props.selected && this.canResizeLeft(this.props);\n      var willBeAbleToResizeRight = this.props.selected && this.canResizeRight(this.props);\n\n      if (!!this.item) {\n        if (this.props.selected && !interactMounted) {\n          this.mountInteract();\n          interactMounted = true;\n        }\n\n        if (interactMounted && (couldResizeLeft !== willBeAbleToResizeLeft || couldResizeRight !== willBeAbleToResizeRight)) {\n          var leftResize = this.props.useResizeHandle ? this.dragLeft : true;\n          var rightResize = this.props.useResizeHandle ? this.dragRight : true;\n          (0, _interactjs[\"default\"])(this.item).resizable({\n            enabled: willBeAbleToResizeLeft || willBeAbleToResizeRight,\n            edges: {\n              top: false,\n              bottom: false,\n              left: willBeAbleToResizeLeft && leftResize,\n              right: willBeAbleToResizeRight && rightResize\n            }\n          });\n        }\n\n        if (interactMounted && couldDrag !== willBeAbleToDrag) {\n          (0, _interactjs[\"default\"])(this.item).draggable({\n            enabled: willBeAbleToDrag\n          });\n        }\n      } else {\n        interactMounted = false;\n      }\n\n      this.setState({\n        interactMounted: interactMounted\n      });\n    }\n  }, {\n    key: \"actualClick\",\n    value: function actualClick(e, clickType) {\n      if (this.props.canSelect && this.props.onSelect) {\n        this.props.onSelect(this.itemId, clickType, e);\n      }\n    }\n  }, {\n    key: \"getItemStyle\",\n    value: function getItemStyle(props) {\n      var dimensions = this.props.dimensions;\n      var baseStyles = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        left: \"\".concat(dimensions.left, \"px\"),\n        top: \"\".concat(dimensions.top, \"px\"),\n        width: \"\".concat(dimensions.width, \"px\"),\n        height: \"\".concat(dimensions.height, \"px\"),\n        lineHeight: \"\".concat(dimensions.height, \"px\")\n      };\n      var finalStyle = Object.assign({}, _styles.overridableStyles, this.props.selected ? _styles.selectedStyle : {}, this.props.selected & this.canMove(this.props) ? _styles.selectedAndCanMove : {}, this.props.selected & this.canResizeLeft(this.props) ? _styles.selectedAndCanResizeLeft : {}, this.props.selected & this.canResizeLeft(this.props) & this.state.dragging ? _styles.selectedAndCanResizeLeftAndDragLeft : {}, this.props.selected & this.canResizeRight(this.props) ? _styles.selectedAndCanResizeRight : {}, this.props.selected & this.canResizeRight(this.props) & this.state.dragging ? _styles.selectedAndCanResizeRightAndDragRight : {}, props.style, baseStyles);\n      return finalStyle;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (typeof this.props.order === 'undefined' || this.props.order === null) {\n        return null;\n      }\n\n      var timelineContext = this.context.getTimelineContext();\n      var itemContext = {\n        dimensions: this.props.dimensions,\n        useResizeHandle: this.props.useResizeHandle,\n        title: this.itemTitle,\n        canMove: this.canMove(this.props),\n        canResizeLeft: this.canResizeLeft(this.props),\n        canResizeRight: this.canResizeRight(this.props),\n        selected: this.props.selected,\n        dragging: this.state.dragging,\n        dragStart: this.state.dragStart,\n        dragTime: this.state.dragTime,\n        dragGroupDelta: this.state.dragGroupDelta,\n        resizing: this.state.resizing,\n        resizeEdge: this.state.resizeEdge,\n        resizeStart: this.state.resizeStart,\n        resizeTime: this.state.resizeTime,\n        width: this.props.dimensions.width\n      };\n      return this.props.itemRenderer({\n        item: this.props.item,\n        timelineContext: timelineContext,\n        itemContext: itemContext,\n        getItemProps: this.getItemProps,\n        getResizeProps: this.getResizeProps\n      });\n    }\n  }]);\n\n  return Item;\n}(_react.Component);\n\nexports[\"default\"] = Item;\n\n_defineProperty(Item, \"propTypes\", {\n  canvasTimeStart: _propTypes[\"default\"].number.isRequired,\n  canvasTimeEnd: _propTypes[\"default\"].number.isRequired,\n  canvasWidth: _propTypes[\"default\"].number.isRequired,\n  order: _propTypes[\"default\"].object,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  selected: _propTypes[\"default\"].bool,\n  canChangeGroup: _propTypes[\"default\"].bool.isRequired,\n  canMove: _propTypes[\"default\"].bool.isRequired,\n  canResizeLeft: _propTypes[\"default\"].bool.isRequired,\n  canResizeRight: _propTypes[\"default\"].bool.isRequired,\n  keys: _propTypes[\"default\"].object.isRequired,\n  item: _propTypes[\"default\"].object.isRequired,\n  onSelect: _propTypes[\"default\"].func,\n  onDrag: _propTypes[\"default\"].func,\n  onDrop: _propTypes[\"default\"].func,\n  onResizing: _propTypes[\"default\"].func,\n  onResized: _propTypes[\"default\"].func,\n  onContextMenu: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  itemProps: _propTypes[\"default\"].object,\n  canSelect: _propTypes[\"default\"].bool,\n  dimensions: _propTypes[\"default\"].object,\n  groupTops: _propTypes[\"default\"].array,\n  useResizeHandle: _propTypes[\"default\"].bool,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].object\n});\n\n_defineProperty(Item, \"defaultProps\", {\n  selected: false,\n  itemRenderer: _defaultItemRenderer.defaultItemRenderer\n});\n\n_defineProperty(Item, \"contextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/node_modules/react-calendar-timeline/lib/lib/items/Item.js"],"names":["Object","defineProperty","exports","value","_react","require","_propTypes","_interopRequireDefault","_interactjs","_moment","_generic","_events","_defaultItemRenderer","_calendar","_domHelpers","_styles","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","Item","_Component","_props","_this","e","state","interactMounted","preventDefault","startedClicking","actualClick","startedTouching","stopPropagation","onItemDoubleClick","itemId","onContextMenu","el","item","dragLeft","dragRight","arguments","undefined","classNames","className","concat","ref","getItemRef","title","itemDivTitle","onMouseDown","composeEvents","onMouseUp","onTouchStart","onTouchEnd","onDoubleClick","handleDoubleClick","handleContextMenu","style","assign","getItemStyle","leftName","leftClassName","rightName","rightClassName","left","getDragLeftRef","leftResizeStyle","leftStyle","right","getDragRightRef","rightResizeStyle","rightStyle","cacheDataFromProps","dragging","dragStart","preDragPosition","dragTime","dragGroupDelta","resizing","resizeEdge","resizeStart","resizeTime","shouldComponentUpdate","nextProps","nextState","shouldUpdate","keys","deepObjectCompare","itemProps","selected","canvasTimeStart","canvasTimeEnd","canvasWidth","order","index","dragSnap","minResizeWidth","canChangeGroup","canSelect","canMove","canResizeLeft","canResizeRight","dimensions","_get","itemIdKey","itemTitle","itemTitleKey","itemDivTitleKey","itemTimeStart","itemTimeStartKey","itemTimeEnd","itemTimeEndKey","getTimeRatio","_this$props","coordinateToTimeRatio","dragTimeSnap","considerOffset","offset","utcOffset","Math","round","resizeTimeSnap","endTime","startTime","timeFor","ratio","getSumOffset","scrollRef","offsetLeft","scrolls","getSumScroll","pageX","scrollLeft","_this$props2","groupTops","groupDelta","offsetTop","_i","_Object$keys","groupTop","pageY","scrollTop","parseInt","resizeTimeDelta","timeDelta","mountInteract","_this2","leftResize","useResizeHandle","rightResize","resizable","edges","top","bottom","enabled","draggable","styleCursor","on","clickTime","setState","x","y","moveResizeValidator","onDrag","onDrop","deltaRect","onResizing","onResized","pointerType","width","componentDidUpdate","prevProps","couldDrag","couldResizeLeft","couldResizeRight","willBeAbleToDrag","willBeAbleToResizeLeft","willBeAbleToResizeRight","clickType","onSelect","baseStyles","position","boxSizing","height","lineHeight","finalStyle","overridableStyles","selectedStyle","selectedAndCanMove","selectedAndCanResizeLeft","selectedAndCanResizeLeftAndDragLeft","selectedAndCanResizeRight","selectedAndCanResizeRightAndDragRight","render","timelineContext","context","getTimelineContext","itemContext","itemRenderer","getItemProps","getResizeProps","Component","number","isRequired","object","bool","func","array","defaultItemRenderer"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _interactjs = _interopRequireDefault(require(\"interactjs\"));\n\nvar _moment = _interopRequireDefault(require(\"moment\"));\n\nvar _generic = require(\"../utility/generic\");\n\nvar _events = require(\"../utility/events\");\n\nvar _defaultItemRenderer = require(\"./defaultItemRenderer\");\n\nvar _calendar = require(\"../utility/calendar\");\n\nvar _domHelpers = require(\"../utility/dom-helpers\");\n\nvar _styles = require(\"./styles\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Item =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Item, _Component);\n\n  // removed prop type check for SPEED!\n  // they are coming from a trusted component anyway\n  // (this complicates performance debugging otherwise)\n  function Item(_props) {\n    var _this;\n\n    _classCallCheck(this, Item);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Item).call(this, _props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedClicking = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function (e) {\n      if (!_this.state.interactMounted && _this.startedClicking) {\n        _this.startedClicking = false;\n\n        _this.actualClick(e, 'click');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function (e) {\n      if (!_this.state.interactMounted) {\n        e.preventDefault();\n        _this.startedTouching = true;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function (e) {\n      if (!_this.state.interactMounted && _this.startedTouching) {\n        _this.startedTouching = false;\n\n        _this.actualClick(e, 'touch');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDoubleClick\", function (e) {\n      e.stopPropagation();\n\n      if (_this.props.onItemDoubleClick) {\n        _this.props.onItemDoubleClick(_this.itemId, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleContextMenu\", function (e) {\n      if (_this.props.onContextMenu) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        _this.props.onContextMenu(_this.itemId, e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemRef\", function (el) {\n      return _this.item = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDragLeftRef\", function (el) {\n      return _this.dragLeft = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDragRightRef\", function (el) {\n      return _this.dragRight = el;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getItemProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      //TODO: maybe shouldnt include all of these classes\n      var classNames = 'rct-item' + (_this.props.item.className ? \" \".concat(_this.props.item.className) : '');\n      return {\n        key: _this.itemId,\n        ref: _this.getItemRef,\n        title: _this.itemDivTitle,\n        className: classNames + \" \".concat(props.className ? props.className : ''),\n        onMouseDown: (0, _events.composeEvents)(_this.onMouseDown, props.onMouseDown),\n        onMouseUp: (0, _events.composeEvents)(_this.onMouseUp, props.onMouseUp),\n        onTouchStart: (0, _events.composeEvents)(_this.onTouchStart, props.onTouchStart),\n        onTouchEnd: (0, _events.composeEvents)(_this.onTouchEnd, props.onTouchEnd),\n        onDoubleClick: (0, _events.composeEvents)(_this.handleDoubleClick, props.onDoubleClick),\n        onContextMenu: (0, _events.composeEvents)(_this.handleContextMenu, props.onContextMenu),\n        style: Object.assign({}, _this.getItemStyle(props))\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getResizeProps\", function () {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var leftName = \"rct-item-handler rct-item-handler-left rct-item-handler-resize-left\";\n\n      if (props.leftClassName) {\n        leftName += \" \".concat(props.leftClassName);\n      }\n\n      var rightName = \"rct-item-handler rct-item-handler-right rct-item-handler-resize-right\";\n\n      if (props.rightClassName) {\n        rightName += \" \".concat(props.rightClassName);\n      }\n\n      return {\n        left: {\n          ref: _this.getDragLeftRef,\n          className: leftName,\n          style: Object.assign({}, _styles.leftResizeStyle, props.leftStyle)\n        },\n        right: {\n          ref: _this.getDragRightRef,\n          className: rightName,\n          style: Object.assign({}, _styles.rightResizeStyle, props.rightStyle)\n        }\n      };\n    });\n\n    _this.cacheDataFromProps(_props);\n\n    _this.state = {\n      interactMounted: false,\n      dragging: null,\n      dragStart: null,\n      preDragPosition: null,\n      dragTime: null,\n      dragGroupDelta: null,\n      resizing: null,\n      resizeEdge: null,\n      resizeStart: null,\n      resizeTime: null\n    };\n    return _this;\n  }\n\n  _createClass(Item, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var shouldUpdate = nextState.dragging !== this.state.dragging || nextState.dragTime !== this.state.dragTime || nextState.dragGroupDelta !== this.state.dragGroupDelta || nextState.resizing !== this.state.resizing || nextState.resizeTime !== this.state.resizeTime || nextProps.keys !== this.props.keys || !(0, _generic.deepObjectCompare)(nextProps.itemProps, this.props.itemProps) || nextProps.selected !== this.props.selected || nextProps.item !== this.props.item || nextProps.canvasTimeStart !== this.props.canvasTimeStart || nextProps.canvasTimeEnd !== this.props.canvasTimeEnd || nextProps.canvasWidth !== this.props.canvasWidth || (nextProps.order ? nextProps.order.index : undefined) !== (this.props.order ? this.props.order.index : undefined) || nextProps.dragSnap !== this.props.dragSnap || nextProps.minResizeWidth !== this.props.minResizeWidth || nextProps.canChangeGroup !== this.props.canChangeGroup || nextProps.canSelect !== this.props.canSelect || nextProps.canMove !== this.props.canMove || nextProps.canResizeLeft !== this.props.canResizeLeft || nextProps.canResizeRight !== this.props.canResizeRight || nextProps.dimensions !== this.props.dimensions;\n      return shouldUpdate;\n    }\n  }, {\n    key: \"cacheDataFromProps\",\n    value: function cacheDataFromProps(props) {\n      this.itemId = (0, _generic._get)(props.item, props.keys.itemIdKey);\n      this.itemTitle = (0, _generic._get)(props.item, props.keys.itemTitleKey);\n      this.itemDivTitle = props.keys.itemDivTitleKey ? (0, _generic._get)(props.item, props.keys.itemDivTitleKey) : this.itemTitle;\n      this.itemTimeStart = (0, _generic._get)(props.item, props.keys.itemTimeStartKey);\n      this.itemTimeEnd = (0, _generic._get)(props.item, props.keys.itemTimeEndKey);\n    }\n  }, {\n    key: \"getTimeRatio\",\n    value: function getTimeRatio() {\n      var _this$props = this.props,\n          canvasTimeStart = _this$props.canvasTimeStart,\n          canvasTimeEnd = _this$props.canvasTimeEnd,\n          canvasWidth = _this$props.canvasWidth;\n      return (0, _calendar.coordinateToTimeRatio)(canvasTimeStart, canvasTimeEnd, canvasWidth);\n    }\n  }, {\n    key: \"dragTimeSnap\",\n    value: function dragTimeSnap(dragTime, considerOffset) {\n      var dragSnap = this.props.dragSnap;\n\n      if (dragSnap) {\n        var offset = considerOffset ? (0, _moment[\"default\"])().utcOffset() * 60 * 1000 : 0;\n        return Math.round(dragTime / dragSnap) * dragSnap - offset % dragSnap;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"resizeTimeSnap\",\n    value: function resizeTimeSnap(dragTime) {\n      var dragSnap = this.props.dragSnap;\n\n      if (dragSnap) {\n        var endTime = this.itemTimeEnd % dragSnap;\n        return Math.round((dragTime - endTime) / dragSnap) * dragSnap + endTime;\n      } else {\n        return dragTime;\n      }\n    }\n  }, {\n    key: \"dragTime\",\n    value: function dragTime(e) {\n      var startTime = (0, _moment[\"default\"])(this.itemTimeStart);\n\n      if (this.state.dragging) {\n        return this.dragTimeSnap(this.timeFor(e) + this.state.dragStart.offset, true);\n      } else {\n        return startTime;\n      }\n    }\n  }, {\n    key: \"timeFor\",\n    value: function timeFor(e) {\n      var ratio = (0, _calendar.coordinateToTimeRatio)(this.props.canvasTimeStart, this.props.canvasTimeEnd, this.props.canvasWidth);\n      var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetLeft;\n      var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n      return (e.pageX - offset + scrolls.scrollLeft) * ratio + this.props.canvasTimeStart;\n    }\n  }, {\n    key: \"dragGroupDelta\",\n    value: function dragGroupDelta(e) {\n      var _this$props2 = this.props,\n          groupTops = _this$props2.groupTops,\n          order = _this$props2.order;\n\n      if (this.state.dragging) {\n        if (!this.props.canChangeGroup) {\n          return 0;\n        }\n\n        var groupDelta = 0;\n        var offset = (0, _domHelpers.getSumOffset)(this.props.scrollRef).offsetTop;\n        var scrolls = (0, _domHelpers.getSumScroll)(this.props.scrollRef);\n\n        for (var _i = 0, _Object$keys = Object.keys(groupTops); _i < _Object$keys.length; _i++) {\n          var key = _Object$keys[_i];\n          var groupTop = groupTops[key];\n\n          if (e.pageY - offset + scrolls.scrollTop > groupTop) {\n            groupDelta = parseInt(key, 10) - order.index;\n          } else {\n            break;\n          }\n        }\n\n        if (this.props.order.index + groupDelta < 0) {\n          return 0 - this.props.order.index;\n        } else {\n          return groupDelta;\n        }\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"resizeTimeDelta\",\n    value: function resizeTimeDelta(e, resizeEdge) {\n      var length = this.itemTimeEnd - this.itemTimeStart;\n      var timeDelta = this.dragTimeSnap((e.pageX - this.state.resizeStart) * this.getTimeRatio());\n\n      if (length + (resizeEdge === 'left' ? -timeDelta : timeDelta) < (this.props.dragSnap || 1000)) {\n        if (resizeEdge === 'left') {\n          return length - (this.props.dragSnap || 1000);\n        } else {\n          return (this.props.dragSnap || 1000) - length;\n        }\n      } else {\n        return timeDelta;\n      }\n    }\n  }, {\n    key: \"mountInteract\",\n    value: function mountInteract() {\n      var _this2 = this;\n\n      var leftResize = this.props.useResizeHandle ? \".rct-item-handler-resize-left\" : true;\n      var rightResize = this.props.useResizeHandle ? \".rct-item-handler-resize-right\" : true;\n      (0, _interactjs[\"default\"])(this.item).resizable({\n        edges: {\n          left: this.canResizeLeft() && leftResize,\n          right: this.canResizeRight() && rightResize,\n          top: false,\n          bottom: false\n        },\n        enabled: this.props.selected && (this.canResizeLeft() || this.canResizeRight())\n      }).draggable({\n        enabled: this.props.selected && this.canMove()\n      }).styleCursor(false).on('dragstart', function (e) {\n        if (_this2.props.selected) {\n          var clickTime = _this2.timeFor(e);\n\n          _this2.setState({\n            dragging: true,\n            dragStart: {\n              x: e.pageX,\n              y: e.pageY,\n              offset: _this2.itemTimeStart - clickTime\n            },\n            preDragPosition: {\n              x: e.target.offsetLeft,\n              y: e.target.offsetTop\n            },\n            dragTime: _this2.itemTimeStart,\n            dragGroupDelta: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('dragmove', function (e) {\n        if (_this2.state.dragging) {\n          var dragTime = _this2.dragTime(e);\n\n          var dragGroupDelta = _this2.dragGroupDelta(e);\n\n          if (_this2.props.moveResizeValidator) {\n            dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n          }\n\n          if (_this2.props.onDrag) {\n            _this2.props.onDrag(_this2.itemId, dragTime, _this2.props.order.index + dragGroupDelta);\n          }\n\n          _this2.setState({\n            dragTime: dragTime,\n            dragGroupDelta: dragGroupDelta\n          });\n        }\n      }).on('dragend', function (e) {\n        if (_this2.state.dragging) {\n          if (_this2.props.onDrop) {\n            var dragTime = _this2.dragTime(e);\n\n            if (_this2.props.moveResizeValidator) {\n              dragTime = _this2.props.moveResizeValidator('move', _this2.props.item, dragTime);\n            }\n\n            _this2.props.onDrop(_this2.itemId, dragTime, _this2.props.order.index + _this2.dragGroupDelta(e));\n          }\n\n          _this2.setState({\n            dragging: false,\n            dragStart: null,\n            preDragPosition: null,\n            dragTime: null,\n            dragGroupDelta: null\n          });\n        }\n      }).on('resizestart', function (e) {\n        if (_this2.props.selected) {\n          _this2.setState({\n            resizing: true,\n            resizeEdge: null,\n            // we don't know yet\n            resizeStart: e.pageX,\n            resizeTime: 0\n          });\n        } else {\n          return false;\n        }\n      }).on('resizemove', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n\n          if (!resizeEdge) {\n            resizeEdge = e.deltaRect.left !== 0 ? 'left' : 'right';\n\n            _this2.setState({\n              resizeEdge: resizeEdge\n            });\n          }\n\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n\n          if (_this2.props.onResizing) {\n            _this2.props.onResizing(_this2.itemId, resizeTime, resizeEdge);\n          }\n\n          _this2.setState({\n            resizeTime: resizeTime\n          });\n        }\n      }).on('resizeend', function (e) {\n        if (_this2.state.resizing) {\n          var resizeEdge = _this2.state.resizeEdge;\n\n          var resizeTime = _this2.resizeTimeSnap(_this2.timeFor(e));\n\n          if (_this2.props.moveResizeValidator) {\n            resizeTime = _this2.props.moveResizeValidator('resize', _this2.props.item, resizeTime, resizeEdge);\n          }\n\n          if (_this2.props.onResized) {\n            _this2.props.onResized(_this2.itemId, resizeTime, resizeEdge, _this2.resizeTimeDelta(e, resizeEdge));\n          }\n\n          _this2.setState({\n            resizing: null,\n            resizeStart: null,\n            resizeEdge: null,\n            resizeTime: null\n          });\n        }\n      }).on('tap', function (e) {\n        _this2.actualClick(e, e.pointerType === 'mouse' ? 'click' : 'touch');\n      });\n      this.setState({\n        interactMounted: true\n      });\n    }\n  }, {\n    key: \"canResizeLeft\",\n    value: function canResizeLeft() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (!props.canResizeLeft) {\n        return false;\n      }\n\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canResizeRight\",\n    value: function canResizeRight() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n\n      if (!props.canResizeRight) {\n        return false;\n      }\n\n      var width = parseInt(props.dimensions.width, 10);\n      return width >= props.minResizeWidth;\n    }\n  }, {\n    key: \"canMove\",\n    value: function canMove() {\n      var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return !!props.canMove;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.cacheDataFromProps(this.props);\n      var interactMounted = this.state.interactMounted;\n      var couldDrag = prevProps.selected && this.canMove(prevProps);\n      var couldResizeLeft = prevProps.selected && this.canResizeLeft(prevProps);\n      var couldResizeRight = prevProps.selected && this.canResizeRight(prevProps);\n      var willBeAbleToDrag = this.props.selected && this.canMove(this.props);\n      var willBeAbleToResizeLeft = this.props.selected && this.canResizeLeft(this.props);\n      var willBeAbleToResizeRight = this.props.selected && this.canResizeRight(this.props);\n\n      if (!!this.item) {\n        if (this.props.selected && !interactMounted) {\n          this.mountInteract();\n          interactMounted = true;\n        }\n\n        if (interactMounted && (couldResizeLeft !== willBeAbleToResizeLeft || couldResizeRight !== willBeAbleToResizeRight)) {\n          var leftResize = this.props.useResizeHandle ? this.dragLeft : true;\n          var rightResize = this.props.useResizeHandle ? this.dragRight : true;\n          (0, _interactjs[\"default\"])(this.item).resizable({\n            enabled: willBeAbleToResizeLeft || willBeAbleToResizeRight,\n            edges: {\n              top: false,\n              bottom: false,\n              left: willBeAbleToResizeLeft && leftResize,\n              right: willBeAbleToResizeRight && rightResize\n            }\n          });\n        }\n\n        if (interactMounted && couldDrag !== willBeAbleToDrag) {\n          (0, _interactjs[\"default\"])(this.item).draggable({\n            enabled: willBeAbleToDrag\n          });\n        }\n      } else {\n        interactMounted = false;\n      }\n\n      this.setState({\n        interactMounted: interactMounted\n      });\n    }\n  }, {\n    key: \"actualClick\",\n    value: function actualClick(e, clickType) {\n      if (this.props.canSelect && this.props.onSelect) {\n        this.props.onSelect(this.itemId, clickType, e);\n      }\n    }\n  }, {\n    key: \"getItemStyle\",\n    value: function getItemStyle(props) {\n      var dimensions = this.props.dimensions;\n      var baseStyles = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        left: \"\".concat(dimensions.left, \"px\"),\n        top: \"\".concat(dimensions.top, \"px\"),\n        width: \"\".concat(dimensions.width, \"px\"),\n        height: \"\".concat(dimensions.height, \"px\"),\n        lineHeight: \"\".concat(dimensions.height, \"px\")\n      };\n      var finalStyle = Object.assign({}, _styles.overridableStyles, this.props.selected ? _styles.selectedStyle : {}, this.props.selected & this.canMove(this.props) ? _styles.selectedAndCanMove : {}, this.props.selected & this.canResizeLeft(this.props) ? _styles.selectedAndCanResizeLeft : {}, this.props.selected & this.canResizeLeft(this.props) & this.state.dragging ? _styles.selectedAndCanResizeLeftAndDragLeft : {}, this.props.selected & this.canResizeRight(this.props) ? _styles.selectedAndCanResizeRight : {}, this.props.selected & this.canResizeRight(this.props) & this.state.dragging ? _styles.selectedAndCanResizeRightAndDragRight : {}, props.style, baseStyles);\n      return finalStyle;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (typeof this.props.order === 'undefined' || this.props.order === null) {\n        return null;\n      }\n\n      var timelineContext = this.context.getTimelineContext();\n      var itemContext = {\n        dimensions: this.props.dimensions,\n        useResizeHandle: this.props.useResizeHandle,\n        title: this.itemTitle,\n        canMove: this.canMove(this.props),\n        canResizeLeft: this.canResizeLeft(this.props),\n        canResizeRight: this.canResizeRight(this.props),\n        selected: this.props.selected,\n        dragging: this.state.dragging,\n        dragStart: this.state.dragStart,\n        dragTime: this.state.dragTime,\n        dragGroupDelta: this.state.dragGroupDelta,\n        resizing: this.state.resizing,\n        resizeEdge: this.state.resizeEdge,\n        resizeStart: this.state.resizeStart,\n        resizeTime: this.state.resizeTime,\n        width: this.props.dimensions.width\n      };\n      return this.props.itemRenderer({\n        item: this.props.item,\n        timelineContext: timelineContext,\n        itemContext: itemContext,\n        getItemProps: this.getItemProps,\n        getResizeProps: this.getResizeProps\n      });\n    }\n  }]);\n\n  return Item;\n}(_react.Component);\n\nexports[\"default\"] = Item;\n\n_defineProperty(Item, \"propTypes\", {\n  canvasTimeStart: _propTypes[\"default\"].number.isRequired,\n  canvasTimeEnd: _propTypes[\"default\"].number.isRequired,\n  canvasWidth: _propTypes[\"default\"].number.isRequired,\n  order: _propTypes[\"default\"].object,\n  dragSnap: _propTypes[\"default\"].number,\n  minResizeWidth: _propTypes[\"default\"].number,\n  selected: _propTypes[\"default\"].bool,\n  canChangeGroup: _propTypes[\"default\"].bool.isRequired,\n  canMove: _propTypes[\"default\"].bool.isRequired,\n  canResizeLeft: _propTypes[\"default\"].bool.isRequired,\n  canResizeRight: _propTypes[\"default\"].bool.isRequired,\n  keys: _propTypes[\"default\"].object.isRequired,\n  item: _propTypes[\"default\"].object.isRequired,\n  onSelect: _propTypes[\"default\"].func,\n  onDrag: _propTypes[\"default\"].func,\n  onDrop: _propTypes[\"default\"].func,\n  onResizing: _propTypes[\"default\"].func,\n  onResized: _propTypes[\"default\"].func,\n  onContextMenu: _propTypes[\"default\"].func,\n  itemRenderer: _propTypes[\"default\"].func,\n  itemProps: _propTypes[\"default\"].object,\n  canSelect: _propTypes[\"default\"].bool,\n  dimensions: _propTypes[\"default\"].object,\n  groupTops: _propTypes[\"default\"].array,\n  useResizeHandle: _propTypes[\"default\"].bool,\n  moveResizeValidator: _propTypes[\"default\"].func,\n  onItemDoubleClick: _propTypes[\"default\"].func,\n  scrollRef: _propTypes[\"default\"].object\n});\n\n_defineProperty(Item, \"defaultProps\", {\n  selected: false,\n  itemRenderer: _defaultItemRenderer.defaultItemRenderer\n});\n\n_defineProperty(Item, \"contextTypes\", {\n  getTimelineContext: _propTypes[\"default\"].func\n});"]},"metadata":{},"sourceType":"script"}