{"ast":null,"code":"var _jsxFileName = \"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/pages/Tasks/index.tsx\";\nimport { AnimatePresence, motion } from 'framer-motion';\nimport 'moment/locale/sk';\nimport { default as React, useContext } from 'react';\nimport Box from '@material-ui/core/Box';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport '../../App.css';\nimport { useStyles } from '../../App';\nimport { DayRow } from '../../components/DayRow';\nimport '../../dialog.sass';\nimport { useOnDragEnd } from '../../functions/onDragEnd';\nimport { useCommTasksQuery, useEditCommTaskDateMutation, useEditMeetingTaskDateMutation, useEditWorkTaskDateMutation, useMeetingTasksQuery, useWorkTasksQuery } from '../../generated/graphql';\nimport { AuthContext } from '../../providers/UserProvider';\nimport { WeekContext } from '../../providers/WeekProvider';\nimport './index';\nconst pageVariants = {\n  initial: {\n    opacity: 0,\n    duration: 1\n  },\n  in: {\n    opacity: 1,\n    duration: 1\n  },\n  out: {\n    opacity: 0,\n    duration: 1\n  }\n};\nexport function Tasks() {\n  const classes = useStyles();\n  const {\n    currWeek\n  } = useContext(WeekContext);\n  const {\n    currentUser: user\n  } = useContext(AuthContext);\n  const {\n    data: meetingData\n  } = useMeetingTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n  const {\n    data: workData\n  } = useWorkTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n  const {\n    data: commData\n  } = useCommTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n  const [editMeetingTaskDate] = useEditMeetingTaskDateMutation();\n  const [editCommTaskDate] = useEditCommTaskDateMutation();\n  const [editWorkTaskDate] = useEditWorkTaskDateMutation();\n\n  const useDragEnd = result => {\n    useOnDragEnd({\n      result,\n      meetingData: meetingData !== null && meetingData !== void 0 ? meetingData : {\n        meetingTaskMany: {\n          items: []\n        }\n      },\n      workData: workData !== null && workData !== void 0 ? workData : {\n        workTaskMany: {\n          items: []\n        }\n      },\n      commData: commData !== null && commData !== void 0 ? commData : {\n        communicationTaskMany: {\n          items: []\n        }\n      },\n      currWeek,\n      editMeetingTaskDate,\n      editCommTaskDate,\n      editWorkTaskDate\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    exitBeforeEnter: true,\n    initial: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    initial: \"initial\",\n    animate: {\n      opacity: [0, 1]\n    },\n    exit: \"out\",\n    variants: pageVariants,\n    style: {\n      width: '100%',\n      overflowY: 'scroll',\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      paddingLeft: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DragDropContext, {\n    onDragEnd: useDragEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      alignItems: 'start',\n      display: 'flex',\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    className: classes.taskListWindow,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"Hello\")), DayRow({\n    currWeek,\n    commData,\n    meetingData,\n    workData\n  }))));\n}","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/pages/Tasks/index.tsx"],"names":["AnimatePresence","motion","default","React","useContext","Box","DragDropContext","useStyles","DayRow","useOnDragEnd","useCommTasksQuery","useEditCommTaskDateMutation","useEditMeetingTaskDateMutation","useEditWorkTaskDateMutation","useMeetingTasksQuery","useWorkTasksQuery","AuthContext","WeekContext","pageVariants","initial","opacity","duration","in","out","Tasks","classes","currWeek","currentUser","user","data","meetingData","variables","userId","uid","dateFrom","Date","toISOString","dateTo","workData","commData","editMeetingTaskDate","editCommTaskDate","editWorkTaskDate","useDragEnd","result","meetingTaskMany","items","workTaskMany","communicationTaskMany","width","overflowY","alignItems","display","flexDirection","paddingLeft","taskListWindow"],"mappings":"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","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\nimport 'moment/locale/sk';\nimport { default as React, useContext } from 'react';\nimport Box from '@material-ui/core/Box';\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\nimport '../../App.css';\nimport { useStyles } from '../../App';\nimport { DayRow } from '../../components/DayRow';\nimport '../../dialog.sass';\nimport { useOnDragEnd } from '../../functions/onDragEnd';\nimport {\n  useCommTasksQuery,\n  useEditCommTaskDateMutation,\n  useEditMeetingTaskDateMutation,\n  useEditWorkTaskDateMutation,\n  useMeetingTasksQuery,\n  useWorkTasksQuery\n} from '../../generated/graphql';\nimport { AuthContext } from '../../providers/UserProvider';\nimport { WeekContext } from '../../providers/WeekProvider';\nimport './index';\n\nconst pageVariants = {\n  initial: {\n    opacity: 0,\n    duration: 1\n  },\n  in: {\n    opacity: 1,\n    duration: 1\n  },\n  out: {\n    opacity: 0,\n    duration: 1\n  }\n};\n\nexport function Tasks() {\n  const classes = useStyles();\n  const { currWeek } = useContext(WeekContext);\n  const { currentUser: user } = useContext(AuthContext);\n\n  const { data: meetingData } = useMeetingTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n\n  const { data: workData } = useWorkTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n\n  const { data: commData } = useCommTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n\n  const [editMeetingTaskDate] = useEditMeetingTaskDateMutation();\n  const [editCommTaskDate] = useEditCommTaskDateMutation();\n  const [editWorkTaskDate] = useEditWorkTaskDateMutation();\n\n  const useDragEnd = (result: DropResult) => {\n    useOnDragEnd({\n      result,\n      meetingData: meetingData ?? { meetingTaskMany: { items: [] } },\n      workData: workData ?? { workTaskMany: { items: [] } },\n      commData: commData ?? { communicationTaskMany: { items: [] } },\n      currWeek,\n      editMeetingTaskDate,\n      editCommTaskDate,\n      editWorkTaskDate\n    });\n  };\n\n  return (\n    <AnimatePresence exitBeforeEnter initial={false}>\n      <motion.div\n        initial=\"initial\"\n        animate={{ opacity: [0, 1] }}\n        exit=\"out\"\n        variants={pageVariants}\n        style={{\n          width: '100%',\n          overflowY: 'scroll',\n          alignItems: 'center',\n          display: 'flex',\n          flexDirection: 'column',\n          paddingLeft: '20px'\n        }}\n      >\n        <DragDropContext onDragEnd={useDragEnd}>\n          <div style={{alignItems:'start', display: 'flex', width: '100%'}}>\n            <Box className={classes.taskListWindow}>\n              Hello\n            </Box>\n          </div>\n          \n          {DayRow({\n            currWeek,\n            commData,\n            meetingData,\n            workData\n          })}\n        </DragDropContext>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}