{"ast":null,"code":"var _jsxFileName = \"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/pages/Tasks/index.tsx\";\nimport { AnimatePresence, motion } from 'framer-motion';\nimport 'moment/locale/sk';\nimport { default as React, useContext } from 'react';\nimport { DragDropContext } from 'react-beautiful-dnd';\nimport '../../App.css';\nimport { DayRow } from '../../components/DayRow';\nimport '../../dialog.sass';\nimport { useOnDragEnd } from '../../functions/onDragEnd';\nimport { useCommTasksQuery, useEditCommTaskDateMutation, useEditMeetingTaskDateMutation, useEditWorkTaskDateMutation, useMeetingTasksQuery, useWorkTasksQuery } from '../../generated/graphql';\nimport { AuthContext } from '../../providers/UserProvider';\nimport { WeekContext } from '../../providers/WeekProvider';\nimport './index';\nconst pageVariants = {\n  initial: {\n    opacity: 0,\n    duration: 1\n  },\n  in: {\n    opacity: 1,\n    duration: 1\n  },\n  out: {\n    opacity: 0,\n    duration: 1\n  }\n};\nexport function Tasks() {\n  const {\n    currWeek\n  } = useContext(WeekContext);\n  const {\n    currentUser: user\n  } = useContext(AuthContext);\n  const {\n    data: meetingData\n  } = useMeetingTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n  const {\n    data: workData\n  } = useWorkTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n  const {\n    data: commData\n  } = useCommTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n  const [editMeetingTaskDate] = useEditMeetingTaskDateMutation();\n  const [editCommTaskDate] = useEditCommTaskDateMutation();\n  const [editWorkTaskDate] = useEditWorkTaskDateMutation();\n\n  const useDragEnd = result => {\n    useOnDragEnd({\n      result,\n      meetingData: meetingData !== null && meetingData !== void 0 ? meetingData : {\n        meetingTaskMany: {\n          items: []\n        }\n      },\n      workData: workData !== null && workData !== void 0 ? workData : {\n        workTaskMany: {\n          items: []\n        }\n      },\n      commData: commData !== null && commData !== void 0 ? commData : {\n        communicationTaskMany: {\n          items: []\n        }\n      },\n      currWeek,\n      editMeetingTaskDate,\n      editCommTaskDate,\n      editWorkTaskDate\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(AnimatePresence, {\n    exitBeforeEnter: true,\n    initial: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(motion.div, {\n    initial: \"initial\",\n    animate: {\n      opacity: [0, 1]\n    },\n    exit: \"out\",\n    variants: pageVariants,\n    style: {\n      width: '100%',\n      overflowY: 'scroll',\n      alignItems: 'center',\n      display: 'flex',\n      flexDirection: 'column',\n      paddingLeft: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DragDropContext, {\n    onDragEnd: useDragEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, DayRow({\n    currWeek,\n    commData,\n    meetingData,\n    workData\n  }))));\n}","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/pages/Tasks/index.tsx"],"names":["AnimatePresence","motion","default","React","useContext","DragDropContext","DayRow","useOnDragEnd","useCommTasksQuery","useEditCommTaskDateMutation","useEditMeetingTaskDateMutation","useEditWorkTaskDateMutation","useMeetingTasksQuery","useWorkTasksQuery","AuthContext","WeekContext","pageVariants","initial","opacity","duration","in","out","Tasks","currWeek","currentUser","user","data","meetingData","variables","userId","uid","dateFrom","Date","toISOString","dateTo","workData","commData","editMeetingTaskDate","editCommTaskDate","editWorkTaskDate","useDragEnd","result","meetingTaskMany","items","workTaskMany","communicationTaskMany","width","overflowY","alignItems","display","flexDirection","paddingLeft"],"mappings":"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","sourcesContent":["import { AnimatePresence, motion } from 'framer-motion';\nimport 'moment/locale/sk';\nimport { default as React, useContext } from 'react';\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\nimport '../../App.css';\nimport { DayRow } from '../../components/DayRow';\nimport '../../dialog.sass';\nimport { useOnDragEnd } from '../../functions/onDragEnd';\nimport {\n  useCommTasksQuery,\n  useEditCommTaskDateMutation,\n  useEditMeetingTaskDateMutation,\n  useEditWorkTaskDateMutation,\n  useMeetingTasksQuery,\n  useWorkTasksQuery\n} from '../../generated/graphql';\nimport { AuthContext } from '../../providers/UserProvider';\nimport { WeekContext } from '../../providers/WeekProvider';\nimport './index';\n\nconst pageVariants = {\n  initial: {\n    opacity: 0,\n    duration: 1\n  },\n  in: {\n    opacity: 1,\n    duration: 1\n  },\n  out: {\n    opacity: 0,\n    duration: 1\n  }\n};\n\nexport function Tasks() {\n  const { currWeek } = useContext(WeekContext);\n  const { currentUser: user } = useContext(AuthContext);\n\n  const { data: meetingData } = useMeetingTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n\n  const { data: workData } = useWorkTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n\n  const { data: commData } = useCommTasksQuery({\n    variables: {\n      userId: user.uid,\n      dateFrom: new Date(currWeek[0]).toISOString(),\n      dateTo: new Date(currWeek[6]).toISOString()\n    }\n  });\n\n  const [editMeetingTaskDate] = useEditMeetingTaskDateMutation();\n  const [editCommTaskDate] = useEditCommTaskDateMutation();\n  const [editWorkTaskDate] = useEditWorkTaskDateMutation();\n\n  const useDragEnd = (result: DropResult) => {\n    useOnDragEnd({\n      result,\n      meetingData: meetingData ?? { meetingTaskMany: { items: [] } },\n      workData: workData ?? { workTaskMany: { items: [] } },\n      commData: commData ?? { communicationTaskMany: { items: [] } },\n      currWeek,\n      editMeetingTaskDate,\n      editCommTaskDate,\n      editWorkTaskDate\n    });\n  };\n\n  return (\n    <AnimatePresence exitBeforeEnter initial={false}>\n      <motion.div\n        initial=\"initial\"\n        animate={{ opacity: [0, 1] }}\n        exit=\"out\"\n        variants={pageVariants}\n        style={{\n          width: '100%',\n          overflowY: 'scroll',\n          alignItems: 'center',\n          display: 'flex',\n          flexDirection: 'column',\n          paddingLeft: '20px'\n        }}\n      >\n        <DragDropContext onDragEnd={useDragEnd}>\n          {DayRow({\n            currWeek,\n            commData,\n            meetingData,\n            workData\n          })}\n        </DragDropContext>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}