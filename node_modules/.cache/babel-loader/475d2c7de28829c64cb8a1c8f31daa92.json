{"ast":null,"code":"import _slicedToArray from\"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'../../App.css';import React,{useState,useContext}from'react';import{makeStyles,withStyles}from'@material-ui/core/styles';import moment from'moment';import Dialog from'@material-ui/core/Dialog';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import{DatePicker,MuiPickersUtilsProvider}from\"@material-ui/pickers\";import MomentUtils from'@date-io/moment';import Autocomplete from'@material-ui/lab/Autocomplete';import TimerIcon from'@material-ui/icons/Timer';import IconButton from'@material-ui/core/IconButton';import CloseIcon from'@material-ui/icons/Close';import TodayIcon from'@material-ui/icons/Today';import{DataContext}from\"../../providers/DataProvider\";import{UserContext}from\"../../providers/UserProvider\";var CssTextField=withStyles({root:{'& .MuiFilledInput-root':{fontFamily:'Poppins',paddingTop:0,background:'rgba(171, 171, 171, 0.15)'}}})(TextField);var styles=makeStyles(function(theme){return{detailTitle:{fontFamily:'Poppins',color:'#2b2b2b',fontWeight:'700',fontSize:'1.6em',paddingBottom:'15px',marginBlockStart:0,marginBlockEnd:0},detailText:{fontFamily:'Poppins',color:'#2b2b2b',fontWeight:'500',fontSize:'1.1em',marginBlockStart:0,marginBlockEnd:0,paddingLeft:'20px'},closeButton:{position:'absolute',right:theme.spacing(2),top:theme.spacing(3.5),color:'#1f1f1d'},editButton:{position:'absolute',right:theme.spacing(8),top:theme.spacing(3.5),color:'#2B2B28'},taskSelect:{width:'90%',background:'#FFEAC8',borderStyle:'none',borderWidth:2,borderRadius:'10px',marginLeft:18,padding:'10px 0px',\"&:focus\":{borderRadius:'10px',background:'transparent'}},addTaskInput:{fontFamily:'Poppins',margin:'10px',\"& label\":{fontFamily:'Poppins'},\"& input\":{fontFamily:'Poppins'}},createTaskButton:{width:'60%',alignSelf:'center',margin:'20px',fontFamily:'Poppins',fontSize:'14px',fontWeight:'600',color:'white',background:'#E3B04B','&:hover':{background:'#ffc44f'}}};});export function WorkAddTaskDialog(props){var classes=styles();var onClose=props.onClose,open=props.open;var handleClose=function handleClose(){onClose();};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),val=_useState2[0],setVal=_useState2[1];var handleStatusChange=function handleStatusChange(event){setVal(event.target.value);};var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),taskTitle=_useState4[0],setTaskTitle=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),taskDesc=_useState6[0],setTaskDesc=_useState6[1];var _useState7=useState(\"1h30m\"),_useState8=_slicedToArray(_useState7,2),selectedTime=_useState8[0],handleTimeChange=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),selectedDate=_useState10[0],handleDateChange=_useState10[1];var _useContext=useContext(DataContext),setRefresh=_useContext.setRefresh;var user=useContext(UserContext);// moves the menu below the select input\nvar menuProps={anchorOrigin:{vertical:\"bottom\",horizontal:\"left\"},transformOrigin:{vertical:\"top\",horizontal:\"left\"},getContentAnchorEl:null};var handleForm=function handleForm(e){e.preventDefault();try{var requestOptions={method:'POST',headers:{'Content-Type':'application/json','Accept':'*/*','Authorization':'Bearer '+localStorage.getItem(\"@token\")},body:JSON.stringify({token:user.uid,title:taskTitle,desc:taskDesc,date:moment(selectedDate).format(\"DD/MM/yyyy\"),workTime:selectedTime})};fetch('https://europe-west1-plannerapp-960c1.cloudfunctions.net/app/api/create-work-task',requestOptions).then(function(response){return response.json();}).then(function(data){return setRefresh(data.taskId);});}catch(error){console.log(error);alert(\"Something went wrong. Please try again later.\");}setTaskTitle(\"\");setTaskDesc(\"\");handleTimeChange(\"1h30m\");handleDateChange(new Date());handleClose();};return/*#__PURE__*/React.createElement(MuiPickersUtilsProvider,{utils:MomentUtils},/*#__PURE__*/React.createElement(Dialog,{onClose:handleClose,open:open,fullWidth:true,maxWidth:'xs',PaperProps:{style:{backgroundColor:'#FFEAC8',color:'black',borderRadius:'30px',padding:'35px',boxShadow:'0px 0px 15px 0px rgba(0,0,0,0.15)'},elevation:0},BackdropProps:{style:{backgroundColor:\"rgba(0, 0, 0, 0.25)\"}}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return handleForm(e);},style:{display:'contents'}},/*#__PURE__*/React.createElement(\"h1\",{className:classes.detailTitle},\"Vytvori\\u0165 \\xFAlohu\"),/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"close\",className:classes.closeButton,onClick:onClose},/*#__PURE__*/React.createElement(CloseIcon,null)),/*#__PURE__*/React.createElement(TextField,{label:\"N\\xE1zov\",variant:\"outlined\",value:taskTitle,onChange:function onChange(e){return setTaskTitle(e.target.value);},className:classes.addTaskInput}),/*#__PURE__*/React.createElement(TextField,{label:\"Popis\",multiline:true,rows:3,variant:\"outlined\",value:taskDesc,onChange:function onChange(e){return setTaskDesc(e.target.value);},className:classes.addTaskInput}),/*#__PURE__*/React.createElement(\"div\",{style:{alignItems:'center',display:'flex',flexDirection:'row',justifyContent:'space-between',marginLeft:'30px',marginRight:'30px'}},/*#__PURE__*/React.createElement(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'start',padding:'10px 0px'}},/*#__PURE__*/React.createElement(TodayIcon,null),/*#__PURE__*/React.createElement(DatePicker,{autoOk:true,disableToolbar:true,variant:\"inline\",inputVariant:\"outlined\",style:{width:90,marginLeft:15,background:'rgba(171, 171, 171, 0.15)',borderRadius:'5px',border:'none'},format:\"D.M.YYYY\",value:selectedDate,onChange:function onChange(date){return handleDateChange(date);}})),/*#__PURE__*/React.createElement(\"span\",{style:{display:'flex',alignItems:'center',justifyContent:'start',padding:'10px 0px'}},/*#__PURE__*/React.createElement(TimerIcon,null),/*#__PURE__*/React.createElement(Autocomplete,{id:\"time-picker\",options:timeSlots,style:{width:90,marginLeft:15},disableClearable:true,freeSolo:true,value:selectedTime,inputValue:selectedTime,onInputChange:function onInputChange(event,newInputValue){handleTimeChange(newInputValue);},renderInput:function renderInput(params){return/*#__PURE__*/React.createElement(CssTextField,Object.assign({},params,{variant:\"outlined\",style:{background:'rgba(171, 171, 171, 0.15)',borderRadius:'5px'}}));}}))),/*#__PURE__*/React.createElement(Button,{type:\"submit\",className:classes.createTaskButton},\"Vytvori\\u0165\"))));}var getMinutes=function getMinutes(index){if(index%4===0){return'00';}else if(index%2===0){return'30';}else if(index%4===1){return'15';}else{return'45';}};var timeSlots=Array.from(new Array(10*4)).map(function(_,index){return index>0?\"\".concat(Math.floor(index/4),\"h\").concat(getMinutes(index),\"m\"):'';});","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/dialogWindows/addTaskDialogs/WorkAddTaskDialog.js"],"names":["React","useState","useContext","makeStyles","withStyles","moment","Dialog","Button","TextField","DatePicker","MuiPickersUtilsProvider","MomentUtils","Autocomplete","TimerIcon","IconButton","CloseIcon","TodayIcon","DataContext","UserContext","CssTextField","root","fontFamily","paddingTop","background","styles","theme","detailTitle","color","fontWeight","fontSize","paddingBottom","marginBlockStart","marginBlockEnd","detailText","paddingLeft","closeButton","position","right","spacing","top","editButton","taskSelect","width","borderStyle","borderWidth","borderRadius","marginLeft","padding","addTaskInput","margin","createTaskButton","alignSelf","WorkAddTaskDialog","props","classes","onClose","open","handleClose","val","setVal","handleStatusChange","event","target","value","taskTitle","setTaskTitle","taskDesc","setTaskDesc","selectedTime","handleTimeChange","Date","selectedDate","handleDateChange","setRefresh","user","menuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","handleForm","e","preventDefault","requestOptions","method","headers","localStorage","getItem","body","JSON","stringify","token","uid","title","desc","date","format","workTime","fetch","then","response","json","data","taskId","error","console","log","alert","style","backgroundColor","boxShadow","elevation","display","alignItems","flexDirection","justifyContent","marginRight","border","timeSlots","newInputValue","params","getMinutes","index","Array","from","map","_","Math","floor"],"mappings":"0KAAA,MAAO,eAAP,CACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,0BAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAGA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,UAAT,CAAqBC,uBAArB,KAAoD,sBAApD,CACA,MAAOC,CAAAA,WAAP,KAAwB,iBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,+BAAzB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CAEA,OAASC,WAAT,KAA4B,8BAA5B,CACA,OAASC,WAAT,KAA4B,8BAA5B,CAEA,GAAMC,CAAAA,YAAY,CAAGf,UAAU,CAAC,CAC5BgB,IAAI,CAAE,CACJ,yBAA0B,CACxBC,UAAU,CAAE,SADY,CAExBC,UAAU,CAAE,CAFY,CAGxBC,UAAU,CAAE,2BAHY,CADtB,CADsB,CAAD,CAAV,CAQlBf,SARkB,CAArB,CAUA,GAAMgB,CAAAA,MAAM,CAAGrB,UAAU,CAAC,SAACsB,KAAD,QAAY,CAClCC,WAAW,CAAE,CACTL,UAAU,CAAE,SADH,CAETM,KAAK,CAAE,SAFE,CAGTC,UAAU,CAAE,KAHH,CAITC,QAAQ,CAAE,OAJD,CAKTC,aAAa,CAAE,MALN,CAMTC,gBAAgB,CAAE,CANT,CAOTC,cAAc,CAAE,CAPP,CADqB,CAUlCC,UAAU,CAAE,CACRZ,UAAU,CAAE,SADJ,CAERM,KAAK,CAAE,SAFC,CAGRC,UAAU,CAAE,KAHJ,CAIRC,QAAQ,CAAE,OAJF,CAKRE,gBAAgB,CAAE,CALV,CAMRC,cAAc,CAAE,CANR,CAORE,WAAW,CAAE,MAPL,CAVsB,CAmBlCC,WAAW,CAAE,CACTC,QAAQ,CAAE,UADD,CAETC,KAAK,CAAEZ,KAAK,CAACa,OAAN,CAAc,CAAd,CAFE,CAGTC,GAAG,CAAEd,KAAK,CAACa,OAAN,CAAc,GAAd,CAHI,CAITX,KAAK,CAAE,SAJE,CAnBqB,CAyBlCa,UAAU,CAAE,CACRJ,QAAQ,CAAE,UADF,CAERC,KAAK,CAAEZ,KAAK,CAACa,OAAN,CAAc,CAAd,CAFC,CAGRC,GAAG,CAAEd,KAAK,CAACa,OAAN,CAAc,GAAd,CAHG,CAIRX,KAAK,CAAE,SAJC,CAzBsB,CA+BlCc,UAAU,CAAE,CACRC,KAAK,CAAE,KADC,CAERnB,UAAU,CAAE,SAFJ,CAGRoB,WAAW,CAAC,MAHJ,CAIRC,WAAW,CAAE,CAJL,CAKRC,YAAY,CAAE,MALN,CAMRC,UAAU,CAAE,EANJ,CAORC,OAAO,CAAE,UAPD,CAQR,UAAU,CACNF,YAAY,CAAE,MADR,CAENtB,UAAU,CAAE,aAFN,CARF,CA/BsB,CA4ClCyB,YAAY,CAAE,CACV3B,UAAU,CAAE,SADF,CAEV4B,MAAM,CAAE,MAFE,CAGV,UAAW,CACP5B,UAAU,CAAE,SADL,CAHD,CAMV,UAAW,CACPA,UAAU,CAAE,SADL,CAND,CA5CoB,CAsDlC6B,gBAAgB,CAAE,CACdR,KAAK,CAAE,KADO,CAEdS,SAAS,CAAE,QAFG,CAGdF,MAAM,CAAE,MAHM,CAId5B,UAAU,CAAE,SAJE,CAKdQ,QAAQ,CAAE,MALI,CAMdD,UAAU,CAAE,KANE,CAOdD,KAAK,CAAE,OAPO,CAQdJ,UAAU,CAAE,SARE,CASd,UAAW,CACPA,UAAU,CAAE,SADL,CATG,CAtDgB,CAAZ,EAAD,CAAzB,CAqEA,MAAO,SAAS6B,CAAAA,iBAAT,CAA2BC,KAA3B,CAAkC,CACrC,GAAMC,CAAAA,OAAO,CAAG9B,MAAM,EAAtB,CADqC,GAG7B+B,CAAAA,OAH6B,CAGXF,KAHW,CAG7BE,OAH6B,CAGpBC,IAHoB,CAGXH,KAHW,CAGpBG,IAHoB,CAKrC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBF,OAAO,GACV,CAFD,CALqC,cAShBtD,QAAQ,CAAC,IAAD,CATQ,wCAS9ByD,GAT8B,eAS1BC,MAT0B,eAWrC,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,CAClCF,MAAM,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAN,CACH,CAFD,CAXqC,eAeH9D,QAAQ,CAAC,EAAD,CAfL,yCAe9B+D,SAf8B,eAenBC,YAfmB,8BAgBLhE,QAAQ,CAAC,EAAD,CAhBH,yCAgB9BiE,QAhB8B,eAgBpBC,WAhBoB,8BAiBIlE,QAAQ,CAAC,OAAD,CAjBZ,yCAiB9BmE,YAjB8B,eAiBhBC,gBAjBgB,8BAkBIpE,QAAQ,CAAC,GAAIqE,CAAAA,IAAJ,EAAD,CAlBZ,0CAkB9BC,YAlB8B,gBAkBhBC,gBAlBgB,gCAoBdtE,UAAU,CAACe,WAAD,CApBI,CAoB7BwD,UApB6B,aAoB7BA,UApB6B,CAqBrC,GAAMC,CAAAA,IAAI,CAAGxE,UAAU,CAACgB,WAAD,CAAvB,CAEA;AACA,GAAMyD,CAAAA,SAAS,CAAG,CACdC,YAAY,CAAE,CACdC,QAAQ,CAAE,QADI,CAEVC,UAAU,CAAE,MAFF,CADA,CAKdC,eAAe,CAAE,CACjBF,QAAQ,CAAE,KADO,CAEbC,UAAU,CAAE,MAFC,CALH,CASdE,kBAAkB,CAAE,IATN,CAAlB,CAYA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,CAAC,CAAI,CACpBA,CAAC,CAACC,cAAF,GACA,GAAI,CACA,GAAMC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAsC,SAAU,KAAhD,CAAuD,gBAAiB,UAAYC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAApF,CAFU,CAGnBC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,KAAK,CAAElB,IAAI,CAACmB,GADK,CAEjBC,KAAK,CAAE9B,SAFU,CAGjB+B,IAAI,CAAE7B,QAHW,CAIjB8B,IAAI,CAAE3F,MAAM,CAACkE,YAAD,CAAN,CAAqB0B,MAArB,CAA4B,YAA5B,CAJW,CAKjBC,QAAQ,CAAE9B,YALO,CAAf,CAHa,CAAvB,CAWA+B,KAAK,CAAC,mFAAD,CAAsFf,cAAtF,CAAL,CACKgB,IADL,CACU,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADlB,EAEKF,IAFL,CAEU,SAAAG,IAAI,QAAI9B,CAAAA,UAAU,CAAC8B,IAAI,CAACC,MAAN,CAAd,EAFd,EAGH,CAAC,MAAMC,KAAN,CAAa,CACXC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACAG,KAAK,CAAC,+CAAD,CAAL,CACH,CAED3C,YAAY,CAAC,EAAD,CAAZ,CACAE,WAAW,CAAC,EAAD,CAAX,CACAE,gBAAgB,CAAC,OAAD,CAAhB,CACAG,gBAAgB,CAAC,GAAIF,CAAAA,IAAJ,EAAD,CAAhB,CACAb,WAAW,GACd,CA3BD,CA6BA,mBACI,oBAAC,uBAAD,EAAyB,KAAK,CAAE9C,WAAhC,eAEI,oBAAC,MAAD,EACA,OAAO,CAAE8C,WADT,CAEA,IAAI,CAAED,IAFN,CAGA,SAAS,CAAE,IAHX,CAIA,QAAQ,CAAE,IAJV,CAKA,UAAU,CAAE,CAAEqD,KAAK,CAAE,CAAEC,eAAe,CAAE,SAAnB,CAA8BnF,KAAK,CAAE,OAArC,CAA8CkB,YAAY,CAAE,MAA5D,CAAoEE,OAAO,CAAE,MAA7E,CAAqFgE,SAAS,CAAE,mCAAhG,CAAT,CAAiJC,SAAS,CAAE,CAA5J,CALZ,CAMA,aAAa,CAAE,CAAEH,KAAK,CAAE,CAAEC,eAAe,CAAE,qBAAnB,CAAT,CANf,eAQI,4BAAM,QAAQ,CAAE,kBAAA5B,CAAC,QAAID,CAAAA,UAAU,CAACC,CAAD,CAAd,EAAjB,CAAoC,KAAK,CAAE,CAAC+B,OAAO,CAAE,UAAV,CAA3C,eACI,0BAAI,SAAS,CAAE3D,OAAO,CAAC5B,WAAvB,2BADJ,cAEI,oBAAC,UAAD,EAAY,aAAW,OAAvB,CAA+B,SAAS,CAAE4B,OAAO,CAACnB,WAAlD,CAA+D,OAAO,CAAEoB,OAAxE,eACI,oBAAC,SAAD,MADJ,CAFJ,cAMI,oBAAC,SAAD,EACI,KAAK,CAAC,UADV,CAEI,OAAO,CAAC,UAFZ,CAGI,KAAK,CAAES,SAHX,CAII,QAAQ,CAAE,kBAAAkB,CAAC,QAAIjB,CAAAA,YAAY,CAACiB,CAAC,CAACpB,MAAF,CAASC,KAAV,CAAhB,EAJf,CAKI,SAAS,CAAET,OAAO,CAACN,YALvB,EANJ,cAcI,oBAAC,SAAD,EACI,KAAK,CAAC,OADV,CAEI,SAAS,KAFb,CAGI,IAAI,CAAE,CAHV,CAII,OAAO,CAAC,UAJZ,CAKI,KAAK,CAAEkB,QALX,CAMI,QAAQ,CAAE,kBAAAgB,CAAC,QAAIf,CAAAA,WAAW,CAACe,CAAC,CAACpB,MAAF,CAASC,KAAV,CAAf,EANf,CAOI,SAAS,CAAET,OAAO,CAACN,YAPvB,EAdJ,cAwBI,2BAAK,KAAK,CAAE,CAACkE,UAAU,CAAC,QAAZ,CAAsBD,OAAO,CAAE,MAA/B,CAAuCE,aAAa,CAAC,KAArD,CAA4DC,cAAc,CAAE,eAA5E,CAA6FtE,UAAU,CAAE,MAAzG,CAAiHuE,WAAW,CAAE,MAA9H,CAAZ,eACI,4BAAM,KAAK,CAAE,CAAEJ,OAAO,CAAE,MAAX,CAAmBC,UAAU,CAAE,QAA/B,CAAyCE,cAAc,CAAE,OAAzD,CAAkErE,OAAO,CAAE,UAA3E,CAAb,eACI,oBAAC,SAAD,MADJ,cAEI,oBAAC,UAAD,EACI,MAAM,KADV,CAEI,cAAc,KAFlB,CAGI,OAAO,CAAC,QAHZ,CAII,YAAY,CAAC,UAJjB,CAKI,KAAK,CAAE,CAAEL,KAAK,CAAE,EAAT,CAAaI,UAAU,CAAE,EAAzB,CAA6BvB,UAAU,CAAE,2BAAzC,CAAsEsB,YAAY,CAAE,KAApF,CAA2FyE,MAAM,CAAE,MAAnG,CALX,CAMI,MAAM,CAAC,UANX,CAOI,KAAK,CAAE/C,YAPX,CAQI,QAAQ,CAAE,kBAAAyB,IAAI,QAAIxB,CAAAA,gBAAgB,CAACwB,IAAD,CAApB,EARlB,EAFJ,CADJ,cAeI,4BAAM,KAAK,CAAE,CAAEiB,OAAO,CAAE,MAAX,CAAmBC,UAAU,CAAE,QAA/B,CAAyCE,cAAc,CAAE,OAAzD,CAAkErE,OAAO,CAAE,UAA3E,CAAb,eACI,oBAAC,SAAD,MADJ,cAEI,oBAAC,YAAD,EACI,EAAE,CAAC,aADP,CAEI,OAAO,CAAEwE,SAFb,CAGI,KAAK,CAAE,CAAE7E,KAAK,CAAE,EAAT,CAAaI,UAAU,CAAE,EAAzB,CAHX,CAII,gBAAgB,KAJpB,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAEsB,YANX,CAOI,UAAU,CAAEA,YAPhB,CAQI,aAAa,CAAE,uBAACP,KAAD,CAAQ2D,aAAR,CAA0B,CACrCnD,gBAAgB,CAACmD,aAAD,CAAhB,CACH,CAVL,CAWI,WAAW,CAAE,qBAACC,MAAD,qBACT,oBAAC,YAAD,kBAAkBA,MAAlB,EAA0B,OAAO,CAAC,UAAlC,CAA6C,KAAK,CAAE,CAAClG,UAAU,CAAE,2BAAb,CAA0CsB,YAAY,CAAE,KAAxD,CAApD,GADS,EAXjB,EAFJ,CAfJ,CAxBJ,cA2DI,oBAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAES,OAAO,CAACJ,gBAAzC,kBA3DJ,CARJ,CAFJ,CADJ,CAgFH,CAQD,GAAMwE,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1B,GAAIA,KAAK,CAAG,CAAR,GAAc,CAAlB,CAAqB,CACjB,MAAO,IAAP,CACH,CAFD,IAEO,IAAKA,KAAK,CAAG,CAAR,GAAc,CAAnB,CAAuB,CAC1B,MAAO,IAAP,CACH,CAFM,IAEA,IAAKA,KAAK,CAAG,CAAR,GAAc,CAAnB,CAAuB,CAC1B,MAAO,IAAP,CACH,CAFM,IAEA,CACH,MAAO,IAAP,CACH,CACJ,CAVD,CAYA,GAAMJ,CAAAA,SAAS,CAAGK,KAAK,CAACC,IAAN,CAAW,GAAID,CAAAA,KAAJ,CAAU,GAAK,CAAf,CAAX,EAA8BE,GAA9B,CACb,SAACC,CAAD,CAAIJ,KAAJ,QAAcA,CAAAA,KAAK,CAAG,CAAR,WAAeK,IAAI,CAACC,KAAL,CAAWN,KAAK,CAAG,CAAnB,CAAf,aAAwCD,UAAU,CAACC,KAAD,CAAlD,MAA+D,EAA7E,EADa,CAAlB","sourcesContent":["import '../../App.css';\nimport React, { useState, useContext } from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\n\nimport PropTypes from 'prop-types';\nimport Dialog from '@material-ui/core/Dialog';\n\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { DatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport MomentUtils from '@date-io/moment';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nimport TimerIcon from '@material-ui/icons/Timer';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport TodayIcon from '@material-ui/icons/Today';\n\nimport { DataContext } from \"../../providers/DataProvider\";\nimport { UserContext } from \"../../providers/UserProvider\";\n\nconst CssTextField = withStyles({\n    root: {\n      '& .MuiFilledInput-root': {\n        fontFamily: 'Poppins',\n        paddingTop: 0,\n        background: 'rgba(171, 171, 171, 0.15)'\n      },\n    },\n})(TextField);\n\nconst styles = makeStyles((theme) => ({\n    detailTitle: {\n        fontFamily: 'Poppins',\n        color: '#2b2b2b',\n        fontWeight: '700',\n        fontSize: '1.6em',\n        paddingBottom: '15px',\n        marginBlockStart: 0,\n        marginBlockEnd: 0,\n    },\n    detailText: {\n        fontFamily: 'Poppins',\n        color: '#2b2b2b',\n        fontWeight: '500',\n        fontSize: '1.1em',\n        marginBlockStart: 0,\n        marginBlockEnd: 0,\n        paddingLeft: '20px',\n    },\n    closeButton: {\n        position: 'absolute',\n        right: theme.spacing(2),\n        top: theme.spacing(3.5),\n        color: '#1f1f1d',\n    },\n    editButton: {\n        position: 'absolute',\n        right: theme.spacing(8),\n        top: theme.spacing(3.5),\n        color: '#2B2B28',\n    },\n    taskSelect: {\n        width: '90%',\n        background: '#FFEAC8',\n        borderStyle:'none',\n        borderWidth: 2,\n        borderRadius: '10px',\n        marginLeft: 18,\n        padding: '10px 0px',\n        \"&:focus\":{\n            borderRadius: '10px',\n            background: 'transparent',\n        },\n    },\n    addTaskInput: {\n        fontFamily: 'Poppins',\n        margin: '10px',\n        \"& label\": {\n            fontFamily: 'Poppins',\n        },\n        \"& input\": {\n            fontFamily: 'Poppins',\n        }\n    },\n    createTaskButton: {\n        width: '60%',\n        alignSelf: 'center',\n        margin: '20px',\n        fontFamily: 'Poppins',\n        fontSize: '14px',\n        fontWeight: '600',\n        color: 'white',\n        background: '#E3B04B',\n        '&:hover': {\n            background: '#ffc44f',\n        }\n    }\n}));\n\nexport function WorkAddTaskDialog(props) {\n    const classes = styles();\n\n    const { onClose, open } = props;\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const [val,setVal] = useState(null);\n\n    const handleStatusChange = (event) => {\n        setVal(event.target.value);\n    };\n\n    const [taskTitle, setTaskTitle] = useState(\"\");\n    const [taskDesc, setTaskDesc] = useState(\"\");\n    const [selectedTime, handleTimeChange] = useState(\"1h30m\");\n    const [selectedDate, handleDateChange] = useState(new Date());\n\n    const { setRefresh } = useContext(DataContext);\n    const user = useContext(UserContext);\n\n    // moves the menu below the select input\n    const menuProps = {\n        anchorOrigin: {\n        vertical: \"bottom\",\n            horizontal: \"left\"\n        },\n        transformOrigin: {\n        vertical: \"top\",\n            horizontal: \"left\"\n        },\n        getContentAnchorEl: null\n    };\n\n    const handleForm = e => {\n        e.preventDefault();\n        try {\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json', 'Accept': '*/*', 'Authorization': 'Bearer ' + localStorage.getItem(\"@token\") },\n                body: JSON.stringify({ \n                    token: user.uid,\n                    title: taskTitle,\n                    desc: taskDesc,\n                    date: moment(selectedDate).format(\"DD/MM/yyyy\"),\n                    workTime: selectedTime\n                    })\n            };\n            fetch('https://europe-west1-plannerapp-960c1.cloudfunctions.net/app/api/create-work-task', requestOptions)\n                .then(response => response.json())\n                .then(data => setRefresh(data.taskId));\n        } catch(error) {\n            console.log(error);\n            alert(\"Something went wrong. Please try again later.\")\n        }\n\n        setTaskTitle(\"\");\n        setTaskDesc(\"\");\n        handleTimeChange(\"1h30m\");\n        handleDateChange(new Date());\n        handleClose();\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            \n            <Dialog\n            onClose={handleClose}\n            open={open}\n            fullWidth={true}\n            maxWidth={'xs'}\n            PaperProps={{ style: { backgroundColor: '#FFEAC8', color: 'black', borderRadius: '30px', padding: '35px', boxShadow: '0px 0px 15px 0px rgba(0,0,0,0.15)', }, elevation: 0 }}\n            BackdropProps={{ style: { backgroundColor: \"rgba(0, 0, 0, 0.25)\" } }}\n            >\n                <form onSubmit={e => handleForm(e)} style={{display: 'contents'}}>\n                    <h1 className={classes.detailTitle}>Vytvoriť úlohu</h1>\n                    <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                        <CloseIcon />\n                    </IconButton>\n\n                    <TextField\n                        label=\"Názov\"\n                        variant=\"outlined\"\n                        value={taskTitle}\n                        onChange={e => setTaskTitle(e.target.value)}\n                        className={classes.addTaskInput}\n                    />\n\n                    <TextField\n                        label=\"Popis\"\n                        multiline\n                        rows={3}\n                        variant=\"outlined\"\n                        value={taskDesc}\n                        onChange={e => setTaskDesc(e.target.value)}\n                        className={classes.addTaskInput}\n                    />\n\n                    <div style={{alignItems:'center', display: 'flex', flexDirection:'row', justifyContent: 'space-between', marginLeft: '30px', marginRight: '30px'}}>\n                        <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'start', padding: '10px 0px' }}>\n                            <TodayIcon />\n                            <DatePicker\n                                autoOk\n                                disableToolbar\n                                variant=\"inline\"\n                                inputVariant=\"outlined\"\n                                style={{ width: 90, marginLeft: 15, background: 'rgba(171, 171, 171, 0.15)', borderRadius: '5px', border: 'none' }}\n                                format=\"D.M.YYYY\"\n                                value={selectedDate}\n                                onChange={date => handleDateChange(date)}\n                            />\n                        </span>\n\n                        <span style={{ display: 'flex', alignItems: 'center', justifyContent: 'start', padding: '10px 0px' }}>\n                            <TimerIcon />\n                            <Autocomplete\n                                id=\"time-picker\"\n                                options={timeSlots}\n                                style={{ width: 90, marginLeft: 15 }}\n                                disableClearable\n                                freeSolo\n                                value={selectedTime}\n                                inputValue={selectedTime}\n                                onInputChange={(event, newInputValue) => {\n                                    handleTimeChange(newInputValue);\n                                }}\n                                renderInput={(params) => (\n                                    <CssTextField {...params} variant=\"outlined\" style={{background: 'rgba(171, 171, 171, 0.15)', borderRadius: '5px'}} />\n                                )}\n                            />\n                        </span>\n                    </div>\n\n                    <Button type=\"submit\" className={classes.createTaskButton}>\n                        Vytvoriť\n                    </Button>\n                \n                </form>\n            </Dialog>\n            \n        </MuiPickersUtilsProvider>\n        \n    );\n}\n\nWorkAddTaskDialog.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    open: PropTypes.bool.isRequired,\n};\n\n\nconst getMinutes = (index) => {\n    if (index % 4 === 0) {\n        return '00'\n    } else if ( index % 2 === 0 ) {\n        return '30'\n    } else if ( index % 4 === 1 ) {\n        return '15'\n    } else {\n        return '45'\n    }\n}\n\nconst timeSlots = Array.from(new Array(10 * 4)).map(\n     (_, index) => index > 0 ? `${Math.floor(index / 4)}h${getMinutes(index)}m` : ''\n  );"]},"metadata":{},"sourceType":"module"}