{"ast":null,"code":"import _slicedToArray from\"/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useStyles}from'../App';import'../App.css';import React,{useContext}from'react';import{GetTaskStatusData}from'./TaskStatusData';import{MeetDetailDialog}from'../dialogWindows/MeetDetailDialog';import Box from'@material-ui/core/Box';import moment from'moment';import'moment/locale/sk';import{DragDropContext,Droppable,Draggable}from\"react-beautiful-dnd\";import ScheduleIcon from'@material-ui/icons/Schedule';import PlaceIcon from'@material-ui/icons/Place';import{DataContext}from\"../providers/DataProvider\";export function MeetTaskBubble(date){var classes=useStyles();var _useContext=useContext(DataContext),taskData=_useContext.taskData;var filteredData=[];if(taskData.meetingTasks!==undefined){filteredData=taskData.meetingTasks.filter(function(task){return task.date.includes(moment(date).format(\"DD/MM/yyyy\"));});//filter tasks by specified type\n}var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState({id:'-1',title:'Test',desc:'Test',workTime:'100h',status:'not_done',startTime:'',endTime:''}),_React$useState4=_slicedToArray(_React$useState3,2),selectedTask=_React$useState4[0],setSelectedTask=_React$useState4[1];var handleClickOpen=function handleClickOpen(task){setSelectedTask(task);setOpen(true);};var handleClose=function handleClose(){setOpen(false);};if(filteredData===undefined||filteredData.length===0){return/*#__PURE__*/React.createElement(\"div\",{style:{justifyContent:\"center\",height:\"100%\"}},/*#__PURE__*/React.createElement(\"h3\",{style:{textAlign:\"center\",paddingTop:\"18px\",color:\"#bdbdbd\",fontFamily:\"Poppins\",fontSize:\"18px\",fontWeight:\"500\"}},\"Pr\\xE1zdne\"));}else{return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(DragDropContext,null,/*#__PURE__*/React.createElement(Droppable,{droppableId:\"\".concat(moment(date).unix())},function(provided){return/*#__PURE__*/React.createElement(\"div\",Object.assign({},provided.droppableProps,{ref:provided.innerRef}),filteredData.map(function(item,index){return/*#__PURE__*/React.createElement(Draggable,{key:item.id,draggableId:item.id,index:index},function(provided){return/*#__PURE__*/React.createElement(\"div\",Object.assign({},provided.draggableProps,provided.dragHandleProps),/*#__PURE__*/React.createElement(Box,{className:classes.taskBubble,style:{backgroundColor:GetTaskStatusData(item.status).color,display:'flex',flexDirection:'column',transition:'background-color 1s'},onClick:function onClick(){return handleClickOpen(item);},ref:provided.innerRef},/*#__PURE__*/React.createElement(Box,{style:{display:'flex',flexDirection:'row',width:'100%'}},/*#__PURE__*/React.createElement(Box,{flexGrow:1},/*#__PURE__*/React.createElement(\"h3\",{className:classes.bubbleTitle},item.title)),/*#__PURE__*/React.createElement(ScheduleIcon,{style:{marginRight:'5px'}}),/*#__PURE__*/React.createElement(\"h3\",{className:classes.bubbleWorkTime},item.startTime,\" - \",item.endTime)),item.address!==\"\"?/*#__PURE__*/React.createElement(Box,{style:{display:'flex',flexDirection:'row',width:'100%',justifyContent:'flex-end',marginTop:'5px'}},/*#__PURE__*/React.createElement(PlaceIcon,null),/*#__PURE__*/React.createElement(\"h3\",{className:classes.bubbleWorkTime},item.address)):\"\"));});}),provided.placeholder);})),/*#__PURE__*/React.createElement(MeetDetailDialog,{onClose:handleClose,open:open,selectedTask:selectedTask}));}};","map":{"version":3,"sources":["/Users/alexvlk/Documents/Projects/GitHub/ConsultApp/src/taskBubble/MeetTaskBubble.js"],"names":["useStyles","React","useContext","GetTaskStatusData","MeetDetailDialog","Box","moment","DragDropContext","Droppable","Draggable","ScheduleIcon","PlaceIcon","DataContext","MeetTaskBubble","date","classes","taskData","filteredData","meetingTasks","undefined","filter","task","includes","format","useState","open","setOpen","id","title","desc","workTime","status","startTime","endTime","selectedTask","setSelectedTask","handleClickOpen","handleClose","length","justifyContent","height","textAlign","paddingTop","color","fontFamily","fontSize","fontWeight","unix","provided","droppableProps","innerRef","map","item","index","draggableProps","dragHandleProps","taskBubble","backgroundColor","display","flexDirection","transition","width","bubbleTitle","marginRight","bubbleWorkTime","address","marginTop","placeholder"],"mappings":"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","sourcesContent":["import { useStyles } from '../App';\nimport '../App.css';\nimport React, { useContext } from 'react';\nimport { GetTaskStatusData } from './TaskStatusData';\nimport { MeetDetailDialog } from '../dialogWindows/MeetDetailDialog';\nimport Box from '@material-ui/core/Box';\nimport moment from 'moment';\nimport 'moment/locale/sk';\n\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport ScheduleIcon from '@material-ui/icons/Schedule';\nimport PlaceIcon from '@material-ui/icons/Place';\n\nimport { DataContext } from \"../providers/DataProvider\";\n\nexport function MeetTaskBubble(date) {\n  const classes = useStyles();\n\n  const { taskData } = useContext(DataContext);\n\n  let filteredData = [];\n\n  if (taskData.meetingTasks !== undefined) {\n    filteredData = taskData.meetingTasks.filter((task) => task.date.includes(moment(date).format(\"DD/MM/yyyy\"))); //filter tasks by specified type\n  }\n\n  const [open, setOpen] = React.useState(false);\n  const [selectedTask, setSelectedTask] = React.useState({ id: '-1', title: 'Test', desc: 'Test', workTime: '100h', status: 'not_done', startTime: '', endTime: '' });\n\n  const handleClickOpen = (task) => {\n    setSelectedTask(task);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  if (filteredData === undefined || filteredData.length === 0) {\n    return (\n      <div style={{ justifyContent: \"center\", height: \"100%\" }}>\n        <h3 style={{ textAlign: \"center\", paddingTop: \"18px\", color: \"#bdbdbd\", fontFamily: \"Poppins\", fontSize: \"18px\", fontWeight: \"500\" }}>\n          Pr√°zdne\n        </h3>\n      </div>\n    )\n\n  } else {\n    return (\n      <div>\n        <DragDropContext>\n          <Droppable droppableId={`${moment(date).unix()}`}>\n            {(provided) => (\n              <div {...provided.droppableProps} ref={provided.innerRef}>\n                {filteredData.map((item, index) => (\n                  <Draggable key={item.id} draggableId={item.id} index={index} >\n                    {(provided) => (\n                      <div {...provided.draggableProps} {...provided.dragHandleProps}>\n                        <Box className={classes.taskBubble} style={{ backgroundColor: GetTaskStatusData(item.status).color, display: 'flex', flexDirection: 'column', transition: 'background-color 1s' }} onClick={() => handleClickOpen(item)} ref={provided.innerRef}>\n                          <Box style={{display: 'flex', flexDirection: 'row', width: '100%'}}>\n                            <Box flexGrow={1}>\n                              <h3 className={classes.bubbleTitle}>{item.title}</h3>\n                            </Box>\n                            <ScheduleIcon style={{ marginRight: '5px' }} />\n                            <h3 className={classes.bubbleWorkTime}>{item.startTime} - {item.endTime}</h3>\n                          </Box>\n                          {item.address !== \"\" \n                            ? <Box style={{display: 'flex', flexDirection: 'row', width: '100%', justifyContent: 'flex-end', marginTop: '5px'}}>\n                                <PlaceIcon />\n                                <h3 className={classes.bubbleWorkTime}>{item.address}</h3>\n                              </Box>\n                            : \"\"\n                          }\n                            \n                        </Box>\n                      </div>\n                    )}\n                  </Draggable>\n                ))}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n        <MeetDetailDialog onClose={handleClose} open={open} selectedTask={selectedTask} />\n      </div>\n    )\n  }\n};"]},"metadata":{},"sourceType":"module"}